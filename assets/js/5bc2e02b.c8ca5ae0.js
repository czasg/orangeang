"use strict";(self.webpackChunkorange_ang=self.webpackChunkorange_ang||[]).push([[5282],{8478:n=>{n.exports=JSON.parse('{"blogPosts":[{"id":"DevOps&AIOps","metadata":{"permalink":"/orange-ang/blog/DevOps&AIOps","editUrl":"https://github.com/czasg/orange-ang/edit/main/blog/2025/01-20-DevOps&AIOps/index.mdx","source":"@site/blog/2025/01-20-DevOps&AIOps/index.mdx","title":"\u521d\u8bc6AIOps","description":"DevOps \u548c AIOps \u662f\u73b0\u4ee3\u7814\u53d1\u8fd0\u7ef4\u4f53\u7cfb\u4e2d\u7684\u4e24\u4e2a\u91cd\u8981\u6982\u5ff5\u3002","date":"2025-01-20T00:00:00.000Z","formattedDate":"2025\u5e741\u670820\u65e5","tags":[{"label":"AI","permalink":"/orange-ang/blog/tags/ai"}],"readingTime":1.53,"hasTruncateMarker":true,"authors":[{"name":"\u6a59\u5b50\u6602","title":"Site Maintainer","url":"https://github.com/czasg","imageURL":"https://github.com/czasg.png","key":"czasg"}],"frontMatter":{"title":"\u521d\u8bc6AIOps","authors":["czasg"],"tags":["AI"],"slug":"DevOps&AIOps"},"unlisted":false,"nextItem":{"title":"\u5e7d\u7075\u78c1\u76d8\u95ee\u9898\u6392\u67e5","permalink":"/orange-ang/blog/\u78c1\u76d8\u95ee\u9898\u6392\u67e5"}},"content":"import FullScreenImage from \'@site/src/components/FullScreenImage\';\\n\\n\x3c!--package--\x3e\\n\\nDevOps \u548c AIOps \u662f\u73b0\u4ee3\u7814\u53d1\u8fd0\u7ef4\u4f53\u7cfb\u4e2d\u7684\u4e24\u4e2a\u91cd\u8981\u6982\u5ff5\u3002\\n\u5176\u4e2d\uff0cDevOps \u4fa7\u91cd\u4e8e\u5f00\u53d1\u548c\u8fd0\u7ef4\u7684\u534f\u4f5c\u4e0e\u81ea\u52a8\u5316\uff0c\u800c AIOps \u5219\u4fa7\u91cd\u5229\u7528 AI \u6280\u672f\u4f18\u5316\u8fd0\u7ef4\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n### \u4e3a\u4ec0\u4e48\u9700\u8981AIOps\uff1f\\n\\n\u76ee\u524d\u884c\u4e1a\u5185\u5404\u79cd\u65b0\u6280\u672f\u548c\u65b0\u67b6\u6784\u5c42\u51fa\u4e0d\u7a77\uff0c\u5404\u7c7b\u6570\u636e\u51e0\u4e4e\u90fd\u5448\u73b0\u7206\u70b8\u5f0f\u589e\u957f\u3002\u9762\u5bf9\u8fd9\u4e9b\u6d77\u91cf\u6570\u636e\uff0c\u5373\u4f7f\u662f\u6700\u4f18\u79c0\u7684 SRE \u56e2\u961f\uff0c\u4e5f\u51e0\u4e4e\u65e0\u6cd5\u901a\u8fc7\u4eba\u529b\u5f25\u8865\u8fd9\u4efd\u5dee\u8ddd\u3002\\n\\n\u5728\u8fd9\u79cd\u80cc\u666f\u4e0b\uff0cAIOps \u7406\u5ff5\u5e94\u8fd0\u800c\u751f\u3002\u5176\u65e8\u5728\u901a\u8fc7\u673a\u5668\u5b66\u4e60\u3001\u4eba\u5de5\u667a\u80fd\u7684\u65b9\u5f0f\uff0c\u81ea\u52a8\u5b66\u4e60\u5e76\u5904\u7406\u6d77\u91cf\u6570\u636e\uff0c\u534f\u52a9 SRE \u540c\u5b66\u51b3\u7b56\u5efa\u8bae\u3002\\n\\n### DevOps\u548cAIOps\u6709\u4ec0\u4e48\u533a\u522b\uff1f\\n\\n- DevOps \u4fa7\u91cd\u4e8e\u4f18\u5316\u5f00\u53d1\u548c\u8fd0\u7ef4\u4e4b\u95f4\u7684\u534f\u4f5c\u548c\u81ea\u52a8\u5316\uff0c\u65e8\u5728\u52a0\u5feb\u8f6f\u4ef6\u4ea4\u4ed8\u7684\u901f\u5ea6\u548c\u8d28\u91cf\uff0c\u5f3a\u8c03\u56e2\u961f\u5408\u4f5c\u548c\u6301\u7eed\u96c6\u6210\u3002\\n- AIOps \u4fa7\u91cd\u4e8e\u5229\u7528\u4eba\u5de5\u667a\u80fd\u548c\u673a\u5668\u5b66\u4e60\u7b49\u6280\u672f\u6765\u4f18\u5316\u8fd0\u7ef4\u8fc7\u7a0b\uff0c\u901a\u8fc7\u6570\u636e\u5206\u6790\u548c\u63a8\u7406\u9884\u6d4b\u6765\u5b9e\u73b0\u667a\u80fd\u5316\u7684\u8fd0\u7ef4\u7ba1\u7406\u3002\\n\\n\\n\\n<br/>\\n\\n:::info \ud83d\udc47\ud83d\udc47\ud83d\udc47\\n**\u672c\u6587\u4f5c\u8005:** \u6a59\u5b50\u6602 <br/>  \\n**\u7248\u6743\u58f0\u660e:** \u8f6c\u8f7d\u8bf7\u6ce8\u660e\u51fa\u5904\u54e6~\ud83d\udc6e\u200d\ud83d\udc6e\u200d\ud83d\udc6e\u200d\\n:::"},{"id":"\u78c1\u76d8\u95ee\u9898\u6392\u67e5","metadata":{"permalink":"/orange-ang/blog/\u78c1\u76d8\u95ee\u9898\u6392\u67e5","editUrl":"https://github.com/czasg/orange-ang/edit/main/blog/2024/12-24-\u78c1\u76d8\u95ee\u9898\u6392\u67e5/index.mdx","source":"@site/blog/2024/12-24-\u78c1\u76d8\u95ee\u9898\u6392\u67e5/index.mdx","title":"\u5e7d\u7075\u78c1\u76d8\u95ee\u9898\u6392\u67e5","description":"\u6211\u4eec\u6700\u8fd1\u63a5\u624b\u4e86\u4e00\u4e2a\u670d\u52a1\uff0c\u53d1\u73b0\u8be5\u670d\u52a1\u6240\u5728\u7684\u670d\u52a1\u5668\u5728\u6bcf\u5929\u51cc\u6668 3 \u70b9\u5230 4 \u70b9\u4e4b\u95f4\uff0c\u78c1\u76d8\u7a7a\u95f4\u4f1a\u7a81\u7136\u88ab\u5360\u6ee1\uff0c\u4f46\u968f\u540e\u53c8\u4f1a\u81ea\u52a8\u6062\u590d\u3002","date":"2024-12-24T00:00:00.000Z","formattedDate":"2024\u5e7412\u670824\u65e5","tags":[{"label":"\u64b0\u5199\u4e2d","permalink":"/orange-ang/blog/tags/\u64b0\u5199\u4e2d"},{"label":"\u5f85\u5206\u7c7b","permalink":"/orange-ang/blog/tags/\u5f85\u5206\u7c7b"}],"readingTime":5.09,"hasTruncateMarker":true,"authors":[{"name":"\u6a59\u5b50\u6602","title":"Site Maintainer","url":"https://github.com/czasg","imageURL":"https://github.com/czasg.png","key":"czasg"}],"frontMatter":{"title":"\u5e7d\u7075\u78c1\u76d8\u95ee\u9898\u6392\u67e5","authors":["czasg"],"tags":["\u64b0\u5199\u4e2d","\u5f85\u5206\u7c7b"],"slug":"\u78c1\u76d8\u95ee\u9898\u6392\u67e5"},"unlisted":false,"prevItem":{"title":"\u521d\u8bc6AIOps","permalink":"/orange-ang/blog/DevOps&AIOps"},"nextItem":{"title":"\u6cdb\u57df\u540d\u539f\u7406\u4e0e\u8bc1\u4e66\u83b7\u53d6\u5b9e\u73b0","permalink":"/orange-ang/blog/\u6cdb\u57df\u540d\u539f\u7406\u4e0e\u8bc1\u4e66\u83b7\u53d6\u5b9e\u73b0"}},"content":"import FullScreenImage from \'@site/src/components/FullScreenImage\';\\n\\n\x3c!--package--\x3e\\n\\n\u6211\u4eec\u6700\u8fd1\u63a5\u624b\u4e86\u4e00\u4e2a\u670d\u52a1\uff0c\u53d1\u73b0\u8be5\u670d\u52a1\u6240\u5728\u7684\u670d\u52a1\u5668\u5728\u6bcf\u5929\u51cc\u6668 3 \u70b9\u5230 4 \u70b9\u4e4b\u95f4\uff0c\u78c1\u76d8\u7a7a\u95f4\u4f1a\u7a81\u7136\u88ab\u5360\u6ee1\uff0c\u4f46\u968f\u540e\u53c8\u4f1a\u81ea\u52a8\u6062\u590d\u3002\\n\\n\u5bf9\u65b9\u56e2\u961f\u5bf9\u6b64\u4e5f\u611f\u5230\u56f0\u60d1\uff0c\u6211\u4eec\u521d\u6b65\u63a8\u6d4b\u53ef\u80fd\u662f\u67d0\u4e2a\u5b9a\u65f6\u4efb\u52a1\u5728\u6267\u884c\u8fc7\u7a0b\u4e2d\u751f\u6210\u4e86\u5927\u91cf\u4e34\u65f6\u6587\u4ef6\uff0c\u4efb\u52a1\u5b8c\u6210\u540e\u81ea\u52a8\u5220\u9664\u4e86\u8fd9\u4e9b\u6587\u4ef6\u3002\\n\u7136\u800c\uff0c\u4ee4\u4eba\u8d39\u89e3\u7684\u662f\uff0c\u4e1a\u52a1\u7a0b\u5e8f\u4e2d\u5e76\u672a\u8bbe\u7f6e\u51cc\u6668 3 \u70b9\u5230 4 \u70b9\u4e4b\u95f4\u7684\u5b9a\u65f6\u4efb\u52a1\uff0c\u670d\u52a1\u5668\u4e0a\u7684 crontab \u4e5f\u6ca1\u6709\u76f8\u5173\u8bb0\u5f55\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n\u7ecf\u8fc7\u521d\u6b65\u6392\u67e5\uff0c\u6211\u4eec\u786e\u8ba4\u95ee\u9898\u51fa\u5728\u670d\u52a1\u4e2d\u7684\u67d0\u4e2a\u201c\u5e7d\u7075\u201d\u7a0b\u5e8f\uff0c\u8be5\u7a0b\u5e8f\u4f1a\u5728\u51cc\u6668\u5f02\u5e38\u6267\u884c\uff0c\u5bfc\u81f4\u78c1\u76d8\u7a7a\u95f4\u88ab\u5360\u6ee1\u3002\\n\u521d\u6b65\u63a8\u6d4b\uff0c\u8be5\u7a0b\u5e8f\u53ef\u80fd\u5411 `/tmp` \u6216 `/var` \u76ee\u5f55\u5199\u5165\u4e86\u5927\u91cf\u6570\u636e\u3002\\n\\n\u4e3a\u4e86\u8fdb\u4e00\u6b65\u6392\u67e5\u95ee\u9898\uff0c\u6211\u4eec\u7f16\u5199\u4e86\u4e00\u4e2a\u78c1\u76d8\u68c0\u67e5\u811a\u672c\uff0c\u901a\u8fc7 crontab \u5b9a\u65f6\u542f\u52a8\u3002\u5f53\u78c1\u76d8\u5229\u7528\u7387\u8d85\u8fc7 70% \u65f6\u89e6\u53d1\u65e5\u5fd7\u8bb0\u5f55\uff0c\u5e76\u751f\u6210\u8be6\u7ec6\u7684\u65e5\u5fd7\u6587\u4ef6\uff0c\u5e2e\u52a9\u5b9a\u4f4d\u95ee\u9898\u3002\\n\\n\u811a\u672c\u7684\u6574\u4f53\u903b\u8f91\u5982\u4e0b\uff1a\\n\\n1. **\u89e6\u53d1\u6761\u4ef6**\uff1a\u5f53\u78c1\u76d8\u5229\u7528\u7387\u8d85\u8fc7 70% \u65f6\u89e6\u53d1\u8bb0\u5f55\u3002\\n2. **\u65e5\u5fd7\u751f\u6210**\uff1a\u751f\u6210\u5305\u542b\u5f53\u524d\u78c1\u76d8\u5229\u7528\u7387\u7684\u65e5\u5fd7\u6587\u4ef6\u3002\\n3. **\u7cfb\u7edf\u72b6\u6001\u8bb0\u5f55**\uff1a\u5c06 `top` \u547d\u4ee4\u7684\u8f93\u51fa\u5199\u5165\u65e5\u5fd7\u6587\u4ef6\uff0c\u8bb0\u5f55\u7cfb\u7edf\u8fdb\u7a0b\u72b6\u6001\u3002\\n4. **\u5927\u6587\u4ef6\u68c0\u67e5**\uff1a\\n   - \u626b\u63cf `/tmp` \u76ee\u5f55\uff0c\u5c06\u5927\u4e8e 10 MB \u7684\u6587\u4ef6\u4fe1\u606f\u5199\u5165\u65e5\u5fd7\u3002\\n   - \u626b\u63cf `/var` \u76ee\u5f55\uff0c\u5c06\u5927\u4e8e 10 MB \u7684\u6587\u4ef6\u4fe1\u606f\u5199\u5165\u65e5\u5fd7\u3002\\n\\n\\n```bash title=\\"disk-monitor.sh\\"\\n#!/bin/bash\\n\\n# \u5b9a\u4e49\u65e5\u5fd7\u6587\u4ef6\u8def\u5f84\\nLOG_DIR=\\"/home/work/log/disk-monitor\\"\\n\\n# \u83b7\u53d6\u5f53\u524d\u65f6\u95f4\\ncurrent_time=$(date +\\"%Y-%m-%d_%H-%M-%S\\")\\n\\n# \u83b7\u53d6\u6839\u76ee\u5f55\u7684\u78c1\u76d8\u4f7f\u7528\u7387\\ndisk_usage=$(df -h / | grep -v Filesystem | awk \'{print $5}\' | sed \'s/%//\')\\n\\n# \u68c0\u67e5\u78c1\u76d8\u4f7f\u7528\u7387\u662f\u5426\u8d85\u8fc7 70%\\nif [ \\"$disk_usage\\" -gt 70 ]; then\\n    # \u5b9a\u4e49\u65e5\u5fd7\u6587\u4ef6\u540d\uff0c\u5305\u542b\u78c1\u76d8\u4f7f\u7528\u7387\u4fe1\u606f\\n    LOG_FILE=\\"$LOG_DIR/disk_usage_${disk_usage}.log\\"\\n\\n    # \u6355\u83b7 top \u8fdb\u7a0b\u6570\u636e\\n    top_output=$(top -b -n 1 | head -n 50)\\n\\n    # \u83b7\u53d6 /tmp \u76ee\u5f55\u4e0b\u7684\u6587\u4ef6\u4fe1\u606f\\n    tmp_files=$(find /tmp -type f -size +10M -exec du -h {} + | sort -rh)\\n\\n    # \u83b7\u53d6 /var/log \u76ee\u5f55\u4e0b\u7684\u6587\u4ef6\u4fe1\u606f\\n    var_log_files=$(find /var -type f -size +10M -exec du -h {} + | sort -rh)\\n\\n    # \u5c06\u6570\u636e\u5199\u5165\u65e5\u5fd7\u6587\u4ef6\\n    echo \\"[$current_time] Disk usage on / is $disk_usage%. Top Process Data:\\" >> \\"$LOG_FILE\\"\\n    echo \\"$top_output\\" >> \\"$LOG_FILE\\"\\n    echo \\"----------------------------------------\\" >> \\"$LOG_FILE\\"\\n    echo \\"[$current_time] Files in /tmp:\\" >> \\"$LOG_FILE\\"\\n    echo \\"$tmp_files\\" >> \\"$LOG_FILE\\"\\n    echo \\"----------------------------------------\\" >> \\"$LOG_FILE\\"\\n    echo \\"[$current_time] Files in /var/log:\\" >> \\"$LOG_FILE\\"\\n    echo \\"$var_log_files\\" >> \\"$LOG_FILE\\"\\n    echo \\"----------------------------------------\\" >> \\"$LOG_FILE\\"\\n    echo \\"\\" >> \\"$LOG_FILE\\"\\n    echo \\"\\" >> \\"$LOG_FILE\\"\\nfi\\n```\\n\\n\u63a5\u7740\u5c31\u662f\u670d\u52a1\u90e8\u7f72\u7b49\u5f85\u51cc\u6668\u89e6\u53d1\u5f02\u5e38\u65e5\u5fd7\u6355\u83b7...\\n\\nnext day...\\n\\n\u7ecf\u8fc7\u4e00\u6574\u5929\u7684\u65e5\u5fd7\u8ffd\u8e2a\u4e0e\u5206\u6790\uff0c\u6211\u4eec\u7ec8\u4e8e\u6210\u529f\u6355\u83b7\u4e86\u8fd9\u4e2a\u201c\u5e7d\u7075\u201d\u8fdb\u7a0b\uff0c\u63ed\u5f00\u4e86\u5b83\u795e\u79d8\u7684\u9762\u7eb1\u3002\\n\\n<FullScreenImage src={require(\\"./disk_used_45.png\\").default} />\\n\\n<FullScreenImage src={require(\\"./disk_used_60.png\\").default} />\\n\\n\u4ece\u4ee5\u4e0a\u76d1\u63a7\u622a\u56fe\u4e2d\u53ef\u4ee5\u6e05\u6670\u5730\u770b\u5230\uff0c\u4e00\u4e2a\u540d\u4e3a `updatedb` \u7684\u8fdb\u7a0b\u6b63\u5728\u6d88\u8017\u5927\u91cf\u7cfb\u7edf\u8d44\u6e90\uff0c\u5e76\u4e14\u6301\u7eed\u5411 `/var/lib/mlocate` \u76ee\u5f55\u5199\u5165\u4e34\u65f6\u6570\u636e\u3002\\n\uff08\u53ef\u7b97\u627e\u5230\u4f60\u4e86\ud83d\ude24\ud83d\ude24\ud83d\ude24\uff09\\n\\n\u901a\u8fc7\u6df1\u5165\u6392\u67e5\uff0c\u6211\u4eec\u53d1\u73b0 `updatedb` \u8fdb\u7a0b\u662f\u7531 `mlocate` \u5de5\u5177\u89e6\u53d1\u7684\u3002`mlocate` \u662f\u4e00\u4e2a\u7528\u4e8e\u5feb\u901f\u5b9a\u4f4d\u6587\u4ef6\u7684\u5b9e\u7528\u7a0b\u5e8f\uff0c\\n\u800c `updatedb` \u662f\u5176\u7528\u4e8e\u66f4\u65b0\u6587\u4ef6\u7d22\u5f15\u6570\u636e\u5e93\u7684\u6838\u5fc3\u4efb\u52a1\u3002\u8be5\u4efb\u52a1\u88ab\u914d\u7f6e\u4e3a\u7cfb\u7edf\u7ea7\u522b\u7684\u5b9a\u65f6\u4efb\u52a1\uff0c\\n\u9690\u85cf\u5728 `/etc/cron.daily` \u76ee\u5f55\u4e2d\uff0c\u56e0\u6b64\u4ece\u666e\u901a\u7528\u6237\u89c6\u89d2\u901a\u5e38\u65e0\u6cd5\u76f4\u63a5\u89c2\u5bdf\u5230\u5b83\u7684\u8fd0\u884c\u3002\\n\\n\u7ecf\u8fc7\u7efc\u5408\u8bc4\u4f30\uff0c\u8003\u8651\u5230\u5f53\u524d\u670d\u52a1\u5668\u4e2d\u5927\u90e8\u5206\u670d\u52a1\u5df2\u5904\u4e8e\u4e0b\u7ebf\u51c6\u5907\u9636\u6bb5\uff0c\u4ec5\u9700\u7ef4\u6301\u5e38\u89c4\u8fd0\u7ef4\u4fdd\u969c\uff0c\\n\u56e0\u6b64\u6211\u4eec\u51b3\u5b9a\u5c06 `mlocate` \u7684\u66f4\u65b0\u9891\u7387\u8c03\u6574\u4e3a**\u6708\u5ea6\u66f4\u65b0**\u3002\u540e\u7eed\u518d\u89c2\u5bdf\u4e0b\u662f\u5426\u4f1a\u5bfc\u81f4\u5176\u4ed6\u95ee\u9898\u3002\\n\\n\u6700\u540e\uff0c\u5728\u7ed3\u5c3e\u5904\u8bb0\u5f55\u4e0b\u6392\u67e5\u8fc7\u7a0b\u4e2d\u6d89\u53ca\u5230\u7684\u64cd\u4f5c\uff1a\\n\\n```bash title=\\"\u67e5\u8be2\u5168\u90e8\u7528\u6237\u7684\u5b9a\u65f6\u4efb\u52a1\\"\\nfor user in $(cut -d: -f1 /etc/passwd); do\\n    echo \\"Crontab for user: $user\\"\\n    sudo crontab -u $user -l 2>/dev/null\\n    echo \\"----------------------------------------\\"\\ndone\\n```\\n\\n<br/>\\n\\n:::info \ud83d\udc47\ud83d\udc47\ud83d\udc47\\n**\u672c\u6587\u4f5c\u8005:** \u6a59\u5b50\u6602 <br/>  \\n**\u7248\u6743\u58f0\u660e:** \u8f6c\u8f7d\u8bf7\u6ce8\u660e\u51fa\u5904\u54e6~\ud83d\udc6e\u200d\ud83d\udc6e\u200d\ud83d\udc6e\u200d\\n:::"},{"id":"\u6cdb\u57df\u540d\u539f\u7406\u4e0e\u8bc1\u4e66\u83b7\u53d6\u5b9e\u73b0","metadata":{"permalink":"/orange-ang/blog/\u6cdb\u57df\u540d\u539f\u7406\u4e0e\u8bc1\u4e66\u83b7\u53d6\u5b9e\u73b0","editUrl":"https://github.com/czasg/orange-ang/edit/main/blog/2024/12-21-\u6cdb\u57df\u540d\u539f\u7406\u4e0e\u8bc1\u4e66\u83b7\u53d6\u5b9e\u73b0/index.mdx","source":"@site/blog/2024/12-21-\u6cdb\u57df\u540d\u539f\u7406\u4e0e\u8bc1\u4e66\u83b7\u53d6\u5b9e\u73b0/index.mdx","title":"\u6cdb\u57df\u540d\u539f\u7406\u4e0e\u8bc1\u4e66\u83b7\u53d6\u5b9e\u73b0","description":"\u968f\u7740\u4e92\u8054\u7f51\u670d\u52a1\u7684\u591a\u6837\u5316\uff0c\u8d8a\u6765\u8d8a\u591a\u7684\u4f01\u4e1a\u548c\u5f00\u53d1\u8005\u9009\u62e9\u901a\u8fc7\u5b50\u57df\u540d\u548c\u6cdb\u57df\u540d\u6765\u7b80\u5316\u57df\u540d\u7ba1\u7406\u548c\u670d\u52a1\u914d\u7f6e\u3002\u6cdb\u57df\u540d\u5141\u8bb8\u4e00\u4e2a\u901a\u914d\u7b26 * \u66ff\u4ee3\u5b50\u57df\u540d\u90e8\u5206\uff0c\u4ece\u800c\u5339\u914d\u591a\u4e2a\u5b50\u57df\u540d\u3002\u8fd9\u79cd\u7075\u6d3b\u6027\u5728\u591a\u57df\u540d\u3001\u4e91\u670d\u52a1\u3001\u5fae\u670d\u52a1\u7b49\u67b6\u6784\u4e2d\u5c24\u5176\u91cd\u8981\u3002\u6b64\u5916\uff0c\u591a\u4e2a\u57df\u540d\u5171\u4eab\u4e00\u4e2a IP \u5730\u5740\u65f6\uff0c\u6b63\u786e\u7684 SSL/TLS \u8bc1\u4e66\u83b7\u53d6\u548c\u7ba1\u7406\u6210\u4e3a\u4e86\u4e00\u4e2a\u6280\u672f\u6311\u6218\uff0c\u5c24\u5176\u662f\u5728\u591a\u4e2a\u8bc1\u4e66\u7684\u670d\u52a1\u5668\u914d\u7f6e\u4e2d\uff0c\u5982\u4f55\u786e\u4fdd\u6b63\u786e\u7684\u8bc1\u4e66\u88ab\u8fd4\u56de\u662f\u4e00\u4e2a\u5173\u952e\u95ee\u9898\u3002","date":"2024-12-21T00:00:00.000Z","formattedDate":"2024\u5e7412\u670821\u65e5","tags":[{"label":"\u64b0\u5199\u4e2d","permalink":"/orange-ang/blog/tags/\u64b0\u5199\u4e2d"},{"label":"\u5f85\u5206\u7c7b","permalink":"/orange-ang/blog/tags/\u5f85\u5206\u7c7b"}],"readingTime":6.58,"hasTruncateMarker":true,"authors":[{"name":"\u6a59\u5b50\u6602","title":"Site Maintainer","url":"https://github.com/czasg","imageURL":"https://github.com/czasg.png","key":"czasg"}],"frontMatter":{"title":"\u6cdb\u57df\u540d\u539f\u7406\u4e0e\u8bc1\u4e66\u83b7\u53d6\u5b9e\u73b0","authors":["czasg"],"tags":["\u64b0\u5199\u4e2d","\u5f85\u5206\u7c7b"],"slug":"\u6cdb\u57df\u540d\u539f\u7406\u4e0e\u8bc1\u4e66\u83b7\u53d6\u5b9e\u73b0"},"unlisted":false,"prevItem":{"title":"\u5e7d\u7075\u78c1\u76d8\u95ee\u9898\u6392\u67e5","permalink":"/orange-ang/blog/\u78c1\u76d8\u95ee\u9898\u6392\u67e5"},"nextItem":{"title":"Nebula\u6570\u636e\u5e93\u642d\u5efa","permalink":"/orange-ang/blog/Nebula\u6570\u636e\u5e93\u642d\u5efa"}},"content":"import FullScreenImage from \'@site/src/components/FullScreenImage\';\\n\\n\x3c!--package--\x3e\\n\\n\u968f\u7740\u4e92\u8054\u7f51\u670d\u52a1\u7684\u591a\u6837\u5316\uff0c\u8d8a\u6765\u8d8a\u591a\u7684\u4f01\u4e1a\u548c\u5f00\u53d1\u8005\u9009\u62e9\u901a\u8fc7\u5b50\u57df\u540d\u548c\u6cdb\u57df\u540d\u6765\u7b80\u5316\u57df\u540d\u7ba1\u7406\u548c\u670d\u52a1\u914d\u7f6e\u3002\u6cdb\u57df\u540d\u5141\u8bb8\u4e00\u4e2a\u901a\u914d\u7b26 `*` \u66ff\u4ee3\u5b50\u57df\u540d\u90e8\u5206\uff0c\u4ece\u800c\u5339\u914d\u591a\u4e2a\u5b50\u57df\u540d\u3002\u8fd9\u79cd\u7075\u6d3b\u6027\u5728\u591a\u57df\u540d\u3001\u4e91\u670d\u52a1\u3001\u5fae\u670d\u52a1\u7b49\u67b6\u6784\u4e2d\u5c24\u5176\u91cd\u8981\u3002\u6b64\u5916\uff0c\u591a\u4e2a\u57df\u540d\u5171\u4eab\u4e00\u4e2a IP \u5730\u5740\u65f6\uff0c\u6b63\u786e\u7684 SSL/TLS \u8bc1\u4e66\u83b7\u53d6\u548c\u7ba1\u7406\u6210\u4e3a\u4e86\u4e00\u4e2a\u6280\u672f\u6311\u6218\uff0c\u5c24\u5176\u662f\u5728\u591a\u4e2a\u8bc1\u4e66\u7684\u670d\u52a1\u5668\u914d\u7f6e\u4e2d\uff0c\u5982\u4f55\u786e\u4fdd\u6b63\u786e\u7684\u8bc1\u4e66\u88ab\u8fd4\u56de\u662f\u4e00\u4e2a\u5173\u952e\u95ee\u9898\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n### 1.\u80cc\u666f\\n\\n\u968f\u7740\u8bc1\u4e66\u5de1\u68c0\u7cfb\u7edf\u7684\u4e0a\u7ebf\uff0c\u6211\u4eec\u9010\u6e10\u53d1\u73b0\u4e86\u4e00\u4e9b\u6cbb\u7406\u65b9\u9762\u7684\u95ee\u9898\uff0c\u4e3b\u8981\u5305\u62ec\uff1a\\n\\n- \u5386\u53f2\u57df\u540d\u5b58\u5728\u672a\u7ef4\u62a4\u7684\u8bc1\u4e66\uff1b\\n- \u6cdb\u57df\u540d\u63a2\u6d4b\u5f02\u5e38\u3002\\n\\n\u5728\u4e0a\u4e00\u6b21\u7684\u5206\u4eab\u8ba8\u8bba\u4e2d\uff0c\u6211\u4eec\u610f\u8bc6\u5230\u6cdb\u57df\u540d\u8bc1\u4e66\u63a2\u6d4b\u7684\u903b\u8f91\u53ef\u80fd\u5b58\u5728\u4e00\u4e9b\u7f3a\u9677\u3002\u4e3a\u4e86\u6df1\u5165\u7406\u89e3\u548c\u89e3\u51b3\u8fd9\u4e00\u95ee\u9898\uff0c\u6211\u4eec\u6574\u7406\u4e86\u672c\u6587\u6863\uff0c\u65e8\u5728\u63a2\u8ba8\u6cdb\u57df\u540d\u7684\u539f\u7406\u53ca\u5176\u8bc1\u4e66\u83b7\u53d6\u5b9e\u73b0\u7684\u53ef\u884c\u65b9\u6848\u3002\\n\\n\u672c\u62a5\u544a\u65e8\u5728\uff1a\\n- \u8be6\u7ec6\u8bf4\u660e\u6cdb\u57df\u540d\u7684\u539f\u7406\uff0c\u5305\u62ec\u5176\u5982\u4f55\u4e0e DNS \u89e3\u6790\u673a\u5236\u534f\u540c\u5de5\u4f5c\u3002\\n- \u63a2\u8ba8\u5728\u5b58\u5728\u591a\u4e2a\u8bc1\u4e66\u7684\u670d\u52a1\u5668\u4e0a\u5982\u4f55\u786e\u4fdd\u901a\u8fc7\u6b63\u786e\u7684 SNI \u83b7\u53d6\u6b63\u786e\u7684\u8bc1\u4e66\u3002\\n- - \u63a2\u8ba8\u6cdb\u57df\u540d\u8bc1\u4e66\u83b7\u53d6\u65b9\u6848\u3002\\n\\n### 2.\u6cdb\u57df\u540d\u539f\u7406\\n\\n#### 2.1.\u6cdb\u57df\u540d\u7684\u5b9a\u4e49\\n\\n\u6cdb\u57df\u540d\uff08Wildcard Domain\uff09\u662f\u6307\u4f7f\u7528 `*` \u901a\u914d\u7b26\u6765\u8868\u793a\u57df\u540d\u7684\u4efb\u610f\u5b50\u57df\u540d\u3002\u4f8b\u5982\uff0c`*.baidu.com` \u8868\u793a\u6240\u6709\u4ee5 `baidu.com` \u4e3a\u540e\u7f00\u7684\u5b50\u57df\u540d\uff08\u5982 `www.baidu.com`\u3001`mail.baidu.com`\u3001`test.baidu.com` \u7b49\uff09\u90fd\u53ef\u4ee5\u5339\u914d\u5230\u8be5\u6cdb\u57df\u540d\u3002\\n\\n#### 2.2.\u6cdb\u57df\u540d\u5728 DNS \u4e2d\u7684\u4f5c\u7528\\n\\n- **DNS \u89e3\u6790**\uff1a\u5728 DNS \u89e3\u6790\u8fc7\u7a0b\u4e2d\uff0c\u5f53\u4e00\u4e2a\u4e0d\u5b58\u5728\u7684\u5b50\u57df\u540d\uff08\u5982 `123123123.baidu.com`\uff09\u88ab\u8bf7\u6c42\u65f6\uff0c\u82e5\u8be5\u57df\u540d\u7b26\u5408\u914d\u7f6e\u7684\u6cdb\u57df\u540d\u89c4\u5219\uff08\u5982 `*.baidu.com`\uff09\uff0cDNS \u4f1a\u5c06\u8bf7\u6c42\u89e3\u6790\u5230\u6cdb\u57df\u540d\u6307\u5b9a\u7684 IP \u5730\u5740\u3002\\n- **\u4f18\u5148\u7ea7**\uff1a\u7cbe\u786e\u5339\u914d\u4f18\u5148\u3002\u5373\u5982\u679c DNS \u4e2d\u6709\u660e\u786e\u7684\u5b50\u57df\u540d\u914d\u7f6e\uff0c\u5b83\u4f1a\u4f18\u5148\u88ab\u89e3\u6790\uff0c\u800c\u6cdb\u57df\u540d\u4f5c\u4e3a\u901a\u914d\u7b26\u89c4\u5219\uff0c\u4f1a\u5339\u914d\u6240\u6709\u672a\u663e\u5f0f\u5b9a\u4e49\u7684\u5b50\u57df\u540d\u3002\\n\\n#### 2.3.\u6cdb\u57df\u540d\u7684\u5e94\u7528\u573a\u666f\\n\\n- **\u5927\u89c4\u6a21\u7cfb\u7edf**\uff1a\u5bf9\u4e8e\u9700\u8981\u7ba1\u7406\u5927\u91cf\u5b50\u57df\u540d\u7684\u4f01\u4e1a\u6216\u670d\u52a1\u63d0\u4f9b\u5546\uff0c\u4f7f\u7528\u6cdb\u57df\u540d\u53ef\u4ee5\u51cf\u5c11\u57df\u540d\u914d\u7f6e\u7684\u590d\u6742\u6027\u3002\\n- **\u8d1f\u8f7d\u5747\u8861\u548c\u9ad8\u53ef\u7528\u6027**\uff1a\u5728\u8d1f\u8f7d\u5747\u8861\u6216\u9ad8\u53ef\u7528\u6027\u67b6\u6784\u4e2d\uff0c\u6cdb\u57df\u540d\u53ef\u4ee5\u5e2e\u52a9\u7b80\u5316\u6d41\u91cf\u8f6c\u53d1\u548c\u57df\u540d\u7ba1\u7406\u3002\\n- **\u591a\u79df\u6237\u73af\u5883**\uff1a\u5728\u591a\u79df\u6237\u7cfb\u7edf\u4e2d\uff0c\u6cdb\u57df\u540d\u53ef\u4ee5\u7528\u4e8e\u4e3a\u6bcf\u4e2a\u79df\u6237\u5206\u914d\u52a8\u6001\u751f\u6210\u7684\u5b50\u57df\u540d\u3002\\n\\n### 3.\u8bc1\u4e66\u83b7\u53d6\u539f\u7406\u4e0e\u6311\u6218\\n\\n#### 3.1.SSL/TLS \u8bc1\u4e66\u57fa\u7840\\n\\n\u5728 HTTPS \u901a\u4fe1\u4e2d\uff0cSSL/TLS \u8bc1\u4e66\u7528\u4e8e\u52a0\u5bc6\u901a\u4fe1\u5e76\u9a8c\u8bc1\u670d\u52a1\u5668\u8eab\u4efd\u3002\u8bc1\u4e66\u901a\u5e38\u662f\u4e0e\u57df\u540d\u7ed1\u5b9a\u7684\uff0c\u5e76\u4e14\u5305\u542b\u516c\u94a5\u3001\u7b7e\u540d\u7b49\u4fe1\u606f\uff0c\u7528\u4e8e\u5efa\u7acb\u5b89\u5168\u7684\u8fde\u63a5\u3002\\n\\n- **\u8bc1\u4e66\u7ed1\u5b9a**\uff1a\u6bcf\u4e2a SSL/TLS \u8bc1\u4e66\u662f\u7ed1\u5b9a\u7279\u5b9a\u57df\u540d\u7684\uff0c\u4f8b\u5982 `www.baidu.com` \u7684\u8bc1\u4e66\u4ec5\u9002\u7528\u4e8e `www.baidu.com`\uff0c\u65e0\u6cd5\u7528\u4e8e `mail.baidu.com` \u6216\u5176\u4ed6\u5b50\u57df\u540d\u3002\\n- **\u591a\u8bc1\u4e66\u670d\u52a1\u5668**\uff1a\u8bb8\u591a\u670d\u52a1\u5668\u540c\u65f6\u652f\u6301\u591a\u4e2a\u57df\u540d\u548c\u591a\u4e2a\u8bc1\u4e66\uff0c\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u5982\u4f55\u786e\u4fdd\u4e3a\u5ba2\u6237\u7aef\u63d0\u4f9b\u6b63\u786e\u7684\u8bc1\u4e66\u6210\u4e3a\u4e00\u4e2a\u95ee\u9898\u3002\\n\\n#### 3.2.SNI\uff08Server Name Indication\uff09\\n\\nSNI \u662f TLS \u534f\u8bae\u7684\u4e00\u90e8\u5206\uff0c\u5141\u8bb8\u5ba2\u6237\u7aef\u5728\u5efa\u7acb SSL/TLS \u8fde\u63a5\u65f6\uff0c\u5411\u670d\u52a1\u5668\u6307\u660e\u5b83\u5e0c\u671b\u8fde\u63a5\u7684\u5177\u4f53\u57df\u540d\u3002\u670d\u52a1\u5668\u63a5\u6536\u5230\u8be5\u4fe1\u606f\u540e\uff0c\u6839\u636e\u57df\u540d\u8fd4\u56de\u76f8\u5e94\u7684\u8bc1\u4e66\u3002\\n\\n- **SNI \u7684\u4f5c\u7528**\uff1a\u5728\u4e00\u4e2a IP \u5730\u5740\u4e0a\u90e8\u7f72\u591a\u4e2a\u8bc1\u4e66\u65f6\uff0cSNI \u5141\u8bb8\u5ba2\u6237\u7aef\u544a\u77e5\u670d\u52a1\u5668\u8981\u8fde\u63a5\u7684\u5177\u4f53\u57df\u540d\uff0c\u4ece\u800c\u83b7\u53d6\u6b63\u786e\u7684\u8bc1\u4e66\u3002\\n- **\u672a\u4f7f\u7528 SNI \u7684\u60c5\u51b5**\uff1a\u5982\u679c\u5ba2\u6237\u7aef\u6ca1\u6709\u63d0\u4f9b SNI\uff08\u4f8b\u5982\uff0c\u67d0\u4e9b\u65e7\u7248\u5ba2\u6237\u7aef\uff09\uff0c\u670d\u52a1\u5668\u53ef\u80fd\u8fd4\u56de\u9ed8\u8ba4\u7684\u8bc1\u4e66\uff0c\u800c\u8fd9\u4e2a\u8bc1\u4e66\u53ef\u80fd\u4e0d\u662f\u5ba2\u6237\u7aef\u671f\u671b\u7684\u3002\\n\\n\\n### 4.\u6cdb\u57df\u540d\u9a8c\u8bc1\u6d41\u7a0b\\n#### \u751f\u6210\u968f\u673a\u5b50\u57df\u540d\\n\u4ee5 *.baidu.com \u4e3a\u4f8b\uff0c\u968f\u673a\u751f\u6210\u4e00\u4e2a\u5b50\u57df\u540d\uff0c\u5982 `{timestamp}.baidu.com`\uff0c\u4ee5\u9a8c\u8bc1\u6cdb\u57df\u540d\u662f\u5426\u6b63\u5e38\u751f\u6548\u3002\\n#### \u914d\u7f6e SNI\\n\u7531\u4e8e\u6cdb\u57df\u540d\u672c\u8eab\u662f\u4e00\u79cd\u89c4\u5219\uff0c\u56e0\u6b64\u53ef\u4ee5\u5c06\u5176\u4f5c\u4e3a SNI \u89c4\u5219\u8fdb\u884c\u914d\u7f6e\u3002\u5728\u9762\u5bf9\u4e0d\u540c\u57df\u540d\u573a\u666f\u7684\u590d\u6742\u6027\u65f6\uff0c\u53ef\u4ee5\u8bbe\u8ba1\u591a\u79cd SNI \u914d\u7f6e\u65b9\u6848\uff0c\u4ee5\u786e\u4fdd\u80fd\u591f\u8986\u76d6\u4e0d\u540c\u7684\u4f7f\u7528\u573a\u666f\u5e76\u517c\u5bb9\u591a\u79cd\u914d\u7f6e\uff1a\\n- \u914d\u7f6e SNI *.baidu.com\uff1a\u9002\u7528\u4e8e\u6240\u6709\u4ee5 baidu.com \u4e3a\u540e\u7f00\u7684\u5b50\u57df\u540d\uff0c\u5305\u62ec\u672a\u663e\u5f0f\u914d\u7f6e\u7684\u5b50\u57df\u540d\u3002\\n- \u914d\u7f6e SNI baidu.com\uff1a\u7528\u4e8e\u6307\u5b9a\u6839\u57df\u540d baidu.com\uff0c\u9002\u7528\u4e8e\u6839\u57df\u540d\u672c\u8eab\u7684\u8bc1\u4e66\u3002\\n- \u914d\u7f6e SNI `www.baidu.com`\uff1a\u9488\u5bf9\u5e38\u89c1\u7684 www \u5b50\u57df\u540d\u8fdb\u884c\u914d\u7f6e\uff0c\u9002\u7528\u4e8e\u8be5\u5b50\u57df\u540d\u7279\u5b9a\u7684\u8bc1\u4e66\u3002\\n#### \u9a8c\u8bc1\u8bc1\u4e66\\n\u5ba2\u6237\u7aef\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u6b65\u9aa4\u9a8c\u8bc1\u8fd4\u56de\u7684\u8bc1\u4e66\uff1a\\n- \u9a8c\u8bc1\u8bc1\u4e66\u94fe\uff1a\u786e\u4fdd\u8bc1\u4e66\u94fe\u4e2d\u7684\u6bcf\u4e2a\u8bc1\u4e66\u90fd\u6709\u6548\uff0c\u4e14\u6700\u7ec8\u8bc1\u4e66\u7531\u53d7\u4fe1\u4efb\u7684\u8bc1\u4e66\u9881\u53d1\u673a\u6784\uff08CA\uff09\u7b7e\u53d1\u3002\\n- \u57df\u540d\u5339\u914d\uff1a\u786e\u4fdd\u8bc1\u4e66\u4e2d\u7684 Subject \u6216 SAN\uff08Subject Alternative Name\uff09\u5b57\u6bb5\u4e0e\u5ba2\u6237\u7aef\u8bf7\u6c42\u7684\u57df\u540d\u5339\u914d\u3002\\n\\n\\n<br/>\\n\\n:::info \ud83d\udc47\ud83d\udc47\ud83d\udc47\\n**\u672c\u6587\u4f5c\u8005:** \u6a59\u5b50\u6602 <br/>  \\n**\u7248\u6743\u58f0\u660e:** \u8f6c\u8f7d\u8bf7\u6ce8\u660e\u51fa\u5904\u54e6~\ud83d\udc6e\u200d\ud83d\udc6e\u200d\ud83d\udc6e\u200d\\n:::"},{"id":"Nebula\u6570\u636e\u5e93\u642d\u5efa","metadata":{"permalink":"/orange-ang/blog/Nebula\u6570\u636e\u5e93\u642d\u5efa","editUrl":"https://github.com/czasg/orange-ang/edit/main/blog/2024/06-10-Nebula\u6570\u636e\u5e93\u642d\u5efa/index.mdx","source":"@site/blog/2024/06-10-Nebula\u6570\u636e\u5e93\u642d\u5efa/index.mdx","title":"Nebula\u6570\u636e\u5e93\u642d\u5efa","description":"\u672c\u6587\u8bb0\u5f55 Nebula \u56fe\u6570\u636e\u7684\u642d\u5efa\u8fc7\u7a0b\u3002","date":"2024-06-10T00:00:00.000Z","formattedDate":"2024\u5e746\u670810\u65e5","tags":[{"label":"nebula","permalink":"/orange-ang/blog/tags/nebula"},{"label":"\u56fe\u6570\u636e\u5e93","permalink":"/orange-ang/blog/tags/\u56fe\u6570\u636e\u5e93"}],"readingTime":6.465,"hasTruncateMarker":true,"authors":[{"name":"\u6a59\u5b50\u6602","title":"Site Maintainer","url":"https://github.com/czasg","imageURL":"https://github.com/czasg.png","key":"czasg"}],"frontMatter":{"title":"Nebula\u6570\u636e\u5e93\u642d\u5efa","authors":["czasg"],"tags":["nebula","\u56fe\u6570\u636e\u5e93"],"slug":"Nebula\u6570\u636e\u5e93\u642d\u5efa"},"unlisted":false,"prevItem":{"title":"\u6cdb\u57df\u540d\u539f\u7406\u4e0e\u8bc1\u4e66\u83b7\u53d6\u5b9e\u73b0","permalink":"/orange-ang/blog/\u6cdb\u57df\u540d\u539f\u7406\u4e0e\u8bc1\u4e66\u83b7\u53d6\u5b9e\u73b0"},"nextItem":{"title":"\u4e91\u539f\u751f\u6280\u672f\u63a2\u7d22","permalink":"/orange-ang/blog/\u4e91\u539f\u751f\u6280\u672f\u63a2\u7d22"}},"content":"import FullScreenImage from \'@site/src/components/FullScreenImage\';\\n\\n\x3c!--package--\x3e\\n\\n\u672c\u6587\u8bb0\u5f55 Nebula \u56fe\u6570\u636e\u7684\u642d\u5efa\u8fc7\u7a0b\u3002 <br/>\\n\u6587\u6863\u53c2\u8003\uff1a\\n- [\u51c6\u5907\u8d44\u6e90 - NebulaGraph Database \u624b\u518c](https://docs.nebula-graph.com.cn/3.8.0/4.deployment-and-installation/1.resource-preparations/)\\n- [\u672c\u5730\u5b89\u88c5 - NebulaGraph Database \u624b\u518c](https://docs.nebula-graph.com.cn/3.8.0/4.deployment-and-installation/2.compile-and-install-nebula-graph/2.install-nebula-graph-by-rpm-or-deb/)\\n\\n\x3c!--truncate--\x3e\\n\\n## \u67b6\u6784\u7b80\u4ecb\\nNebula \u91c7\u7528\u8ba1\u7b97\u5b58\u50a8\u5206\u79bb\u67b6\u6784\uff0c\u5171\u5305\u542b\u4e09\u5927\u7ec4\u4ef6\uff1a\\n- Graphd\uff1a\u8d1f\u8d23\u5904\u7406\u8ba1\u7b97\u8bf7\u6c42\\n- Metad\uff1a\u8d1f\u8d23\u6570\u636e\u7ba1\u7406\u3001\u96c6\u7fa4\u7ba1\u7406\u548c\u7528\u6237\u6743\u9650\u7ba1\u7406\u7b49\\n- Storaged\uff1a\u670d\u52a1\u8d1f\u8d23\u5b58\u50a8\u6570\u636e\\n\u4e0b\u56fe\u5c55\u793a\u4e86 NebulaGraph \u96c6\u7fa4\u7684\u7ecf\u5178\u67b6\u6784\uff1a\\n\\n<FullScreenImage src={require(\\"./nebula.png\\").default} />\\n\\n\u5173\u4e8e Nabula \u67b6\u6784\u672c\u6587\u4e0d\u505a\u8fc7\u591a\u4ecb\u7ecd\uff0c\u8be6\u60c5\u8bf7\u89c1\uff1a[NebulaGraph Database](https://docs.nebula-graph.com.cn/3.8.0/)\\n\\n## \u5355\u8282\u70b9\u90e8\u7f72\\n\\n### 1.\u670d\u52a1\u5b89\u88c5\\n\u53ef\u4ee5\u901a\u8fc7\u5b98\u65b9 RPM \u5305\u5b89\u88c5 NebulaGraph\uff0c\u672c\u6b21\u5b89\u88c5\u7248\u672c3.8.0\u3002\\n\u9ed8\u8ba4\u5b89\u88c5\u8def\u5f84\u4e3a `/usr/local/nebula/`\u3002\\n```bash\\nwget https://oss-cdn.nebula-graph.com.cn/package/3.8.0/nebula-graph-3.8.0.el7.x86_64.rpm\\nrpm -ivh nebula-graph-3.8.0.el7.x86_64.rpm\\n```\\n\\n### 2.\u914d\u7f6e\u521d\u59cb\u5316\\nNebula \u63d0\u4f9b\u4e86\u9ed8\u8ba4 .default \u548c\u751f\u4ea7 .production \u4e24\u79cd\u914d\u7f6e\u3002\\n\u6211\u4eec\u91c7\u7528 production \u914d\u7f6e\uff0c\u5e76\u5728\u6b64\u57fa\u7840\u4e0a\u505a\u4e00\u5b9a\u7684\u8c03\u6574\uff1a\\n#### 2.1.Meta\u670d\u52a1\u914d\u7f6e\\n\u914d\u7f6e\u6587\u4ef6\u8def\u5f84\uff1a/usr/local/nebula/etc/nebula-metad.conf\\n\u914d\u7f6e\u8c03\u6574\u9879\uff1a\\n```\\n--timezone_name=UTC+08:00\\n--log_dir=/workspace/logs/nebula\\n--timestamp_in_logfile_name=true\\n--max_log_size=1024\\n--data_path=/workspace/data/nebula/meta\\n```\\n\\n#### 2.2.Graph\u670d\u52a1\u914d\u7f6e\\n\u914d\u7f6e\u6587\u4ef6\u8def\u5f84\uff1a/usr/local/nebula/etc/nebula-graphd.conf\\n\u914d\u7f6e\u8c03\u6574\u9879\uff1a\\n```\\n--timezone_name=UTC+08:00\\n--log_dir=/workspace/logs/nebula\\n--timestamp_in_logfile_name=true\\n--max_log_size=1024\\n--enable_authorize=true\\n--enable_space_level_metrics=true\\n--max_sessions_per_ip_per_user=500\\n```\\n\\n#### 2.3.Storage\u670d\u52a1\u914d\u7f6e\\n\u914d\u7f6e\u6587\u4ef6\u8def\u5f84\uff1a/usr/local/nebula/etc/nebula-storage.conf\\n\u914d\u7f6e\u8c03\u6574\u9879\uff1a\\n```\\n--timezone_name=UTC+08:00\\n--log_dir=/workspace/logs/nebula\\n--timestamp_in_logfile_name=true\\n--max_log_size=1024\\n--data_path=/workspace/data/nebula/storage\\n```\\n\\n### 5.2.\u670d\u52a1\u542f\u52a8\\nNebula \u6d89\u53ca\u4e09\u4e2a\u670d\u52a1\u7ec4\u4ef6\uff08graphd\u3001metad\u3001storaged\uff09\uff0c\u5176\u4e2d metad \u5f02\u5e38\u65f6\u6570\u636e\u5e93\u4ecd\u65e7\u53ef\u4ee5\u63d0\u4f9b\u6b63\u5e38\u8bfb\uff0c\u5176\u4f59\u7ec4\u4ef6\u5f02\u5e38\u5219\u6574\u4f53\u670d\u52a1\u5f02\u5e38\u3002\u7efc\u5408\u8003\u8651\uff0c\u91c7\u7528 Supervisor \u90e8\u7f72 Nebula \u76f8\u5173\u670d\u52a1\u3002\\n\\n```bash title=\\"nebula-supervisor.ini\\"\\n[program:nebula-supervisor]\\ncommand=/usr/local/nebula/scripts/nebula-supervisor.sh\\ndirectory=/workspace/app/nebula\\nuser=root\\nautostart=true\\nautorestart=true\\nstartsecs=2\\nstartretries=2\\nstopsignal=TERM\\nstopwaitsecs=10\\nstopasgroup=true\\nstdout_logfile=/workspace/logs/nebula/nebula-supervisor.log\\nstderr_logfile=/workspace/logs/nebula/nebula-supervisor.err\\nstdout_logfile_maxbytes=50MB\\nstdout_logfile_backups=10\\n```\\n\\n```bash title=\\"nebula-supervisor.sh\\"\\n#!/bin/bash\\n\\n# nebula \u542f\u52a8\u5165\u53e3\\nfunction start_nebula() {\\n/usr/local/nebula/scripts/nebula.service start $1\\nif [ $? -eq 0 ]; then\\necho \\"$(date): $1 \u670d\u52a1\u542f\u52a8\u6210\u529f\u3002\\"\\nelse\\necho \\"$(date): $1 \u670d\u52a1\u542f\u52a8\u5931\u8d25\u3002\\"\\nfi\\n}\\n\\n# \u5b9a\u4e49\u670d\u52a1\\nitems=(\\"metad\\" \\"graphd\\" \\"storaged\\")\\n\\nwhile true; do  # \u65e0\u9650\u5faa\u73af\\nfor item in \\"${items[@]}\\"; do  # \u904d\u5386\u5217\u8868\u4e2d\u7684\u6bcf\u4e2a\u5143\u7d20\\nif ! pgrep -x \\"nebula-$item\\" > /dev/null  # \u68c0\u67e5\u8fdb\u7a0b\u662f\u5426\u5b58\u5728\\nthen\\necho \\"$(date): nebula-$item \u8fdb\u7a0b\u4e0d\u5b58\u5728\uff0c\u6b63\u5728\u542f\u52a8\u670d\u52a1...\\"\\nstart_nebula $item\\nelse\\necho \\"$(date): nebula-$item \u8fdb\u7a0b\u6b63\u5728\u8fd0\u884c\u3002\\"\\nfi\\ndone\\nsleep 60  # \u6682\u505c60\u79d2\\ndone\\n```\\n\u66f4\u65b0\u4e0b supervisor \u7ba1\u7406\u8fdb\u7a0b\uff1a\\n```bash\\nsupervisorctl reread\\nsupervisorctl update\\n```\\n\u6b64\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u770b\u5230\u5df2\u7ecf\u8dd1\u8d77\u6765\u4e86\u4e09\u4e2a\u8fdb\u7a0b\uff1a\\n```bash\\n$ ps -ef | grep nebula\\nroot     22026     1  0 12:31 ?        00:00:07 /usr/local/nebula/bin/nebula-metad --flagfile /usr/local/nebula/etc/nebula-metad.conf\\nroot     28838     1  0 May31 ?        00:00:31 /usr/local/nebula/bin/nebula-graphd --flagfile /usr/local/nebula/etc/nebula-graphd.conf\\nroot     28926     1  0 May31 ?        00:02:06 /usr/local/nebula/bin/nebula-storaged --flagfile /usr/local/nebula/etc/nebula-storaged.conf\\n```\\n### 5.3.\u65e5\u5fd7\u521d\u59cb\u5316\\n\u65e5\u5fd7\u6682\u65f6\u4e0d\u7528\u6536\u96c6\uff0c\u4f46\u4ecd\u7136\u5efa\u8bae\u5b9a\u671f\u6e05\u9664\u3002\\n\u8ba1\u5212\u6bcf\u5929\u51cc\u6668 3 \u70b9\u81ea\u52a8\u5220\u9664\u66f4\u65b0\u65f6\u95f4\u8d85\u8fc7 7 \u5929\u7684 Graph \u670d\u52a1\u8fd0\u884c\u65e5\u5fd7\u6587\u4ef6\u3002\\nCrontab \u6307\u4ee4\u53c2\u8003\u5982\u4e0b\uff1a\\n```\\n0 3 * * * find /workspace/logs/nebula -name nebula-graphd.* -mtime +7 -delete\\n```\\n5.4.\u7528\u6237\u521d\u59cb\u5316\\n```\\nCREATE USER develop WITH PASSWORD \'develop\';\\nGRANT ROLE USER ON develop TO develop;\\n```\\n\\n5.5.\u6ce8\u518c\u670d\u52a1\\nNebula \u670d\u52a1\u542f\u52a8\u540e\u4e0d\u4f1a\u81ea\u52a8\u6267\u884c\u6ce8\u518c\uff0c\u800c\u9700\u8981\u7528\u6237\u624b\u52a8\u6ce8\u518c Storage \u670d\u52a1\u3002\\n\u5efa\u8bae\u4f7f\u7528 docker \u5728\u672c\u5730\u642d\u5efa\u4e00\u4e2a studio \u670d\u52a1\uff0cdocker \u6307\u4ee4\u53c2\u8003\u5982\u4e0b\uff1a\\n```\\ndocker run -it --rm -p 7001:7001 -e USER=root vesoft/nebula-graph-studio:v3.10\\n```\\n\u5728 studio / console \u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u6307\u4ee4\u6dfb\u52a0 Storage \u4e3b\u673a\\n```\\nADD HOST 127.0.0.1:9779\\n```\\n\u81f3\u6b64\uff0c\u670d\u52a1\u90e8\u7f72\u5b8c\u6210\u3002\\n## 6.\u670d\u52a1\u76d1\u63a7\\nNebula \u793e\u533a\u63d0\u4f9b\u4e86\u4e00\u6b3e\u7528\u4e8e\u76d1\u63a7 NebulaGraph \u96c6\u7fa4\u4e2d\u673a\u5668\u548c\u670d\u52a1\u72b6\u6001\u7684\u53ef\u89c6\u5316\u5de5\u5177 Dashboard \u3002\\n\u76ee\u524d\u4f5c\u4e3a\u5355\u8282\u70b9\u670d\u52a1\uff0c\u5efa\u8bae\u4ec5\u76d1\u63a7\u673a\u5668\u672c\u8eab\u72b6\u6001\u3002\\n\u56e0\u6b64\u5efa\u8bae\u76d1\u63a7\u65b9\u6848\uff1aNode Exporter\\n\\n## 7.\u6570\u636e\u5907\u4efd\\nNebula \u63d0\u4f9b\u4e86\u4e24\u79cd\u5907\u4efd\u65b9\u6848\uff1a\\n- BR + Agent\uff1a\u793e\u533a\u63d0\u4f9b\u7684\u5168\u91cf\u5907\u4efd\u5de5\u5177\\n- SNAPSHOT\uff1aNebula \u81ea\u5e26\u7684\u5feb\u7167\u6307\u4ee4\\n\u901a\u8fc7\u521d\u6b65\u8c03\u7814\u53d1\u73b0\u4e8c\u8005\u5b58\u5728\u4e00\u5b9a\u533a\u522b\u3002\\n\u793e\u533a\u5de5\u5177BR\u652f\u6301\u5168\u91cf\u5907\u4efd\u4ee5\u53ca\u4e00\u952e\u6062\u590d\u3002\u800cSNAPSHOT\u4ec5\u652f\u6301\u5355\u4e2a\u7a7a\u95f4\u4e0b\u7684\u6570\u636e\u5feb\u7167\uff0c\u5e76\u4e14\u6062\u590d\u65f6\u9700\u8981\u624b\u52a8\u62f7\u8d1d\u6587\u4ef6\u5230\u6307\u5b9a\u76ee\u5f55\uff0c\u5b58\u5728\u4e00\u5b9a\u7684\u64cd\u4f5c\u98ce\u9669\u3002\\n\u56e0\u6b64\u6b64\u5904\u90e8\u7f72\u91c7\u7528\u793e\u533a\u5907\u4efd\u5de5\u5177\u5b9e\u65bd\u6570\u636e\u5907\u4efd\uff0c\u5907\u4efd\u6d41\u7a0b\u4e3a\uff1a\\n1. \u6267\u884c\u5907\u4efd\u6307\u4ee4\\n2. \u5907\u4efd\u6587\u4ef6\u538b\u7f29\\n3. \u4e0a\u4f20\u5907\u4efd\u6570\u636e\u81f3\u4e91\u7aef\\n\u5907\u4efd\u811a\u672c\u540d\u53c2\u8003\uff1a\\n```bash title=\\"nebula-backup.sh\\"\\n#!/bin/bash\\n\\n# \u83b7\u53d6\u5f53\u524d\u65e5\u671f\\ntoday=$(date +\\"%Y_%m_%d\\")\\n\\n# \u8fd0\u884c\u5907\u4efd\u547d\u4ee4\\n/usr/local/nebula/bin/br backup full --meta \\"127.0.0.1:9559\\" --storage \\"local:///usr/local/nebula/backup/\\"\\n\\n# \u627e\u5230\u4eca\u5929\u751f\u6210\u7684\u6700\u65b0\u5907\u4efd\u76ee\u5f55\\nbackup_dir=$(find /usr/local/nebula/backup/ -type d -name \\"BACKUP_${today}_*\\" | sort | tail -n 1)\\n\\n# \u68c0\u67e5\u662f\u5426\u627e\u5230\u5907\u4efd\u76ee\u5f55\\nif [ -z \\"$backup_dir\\" ]; then\\necho \\"\u672a\u627e\u5230\u4eca\u5929\u751f\u6210\u7684\u5907\u4efd\u76ee\u5f55\u3002\\"\\nexit 1\\nfi\\n\\n# \u751f\u6210\u538b\u7f29\u6587\u4ef6\u7684\u540d\u79f0\\nbackup_name=$(basename $backup_dir)\\ntar_file=\\"${backup_name}.tar.gz\\"\\n\\n# \u4f7f\u7528 tar \u538b\u7f29\u5907\u4efd\u76ee\u5f55\\ntar -czvf /usr/local/nebula/backup/$tar_file -C $(dirname $backup_dir) $backup_name > /dev/null 2>&1\\n\\n# \u68c0\u67e5\u662f\u5426\u6210\u529f\u751f\u6210\u538b\u7f29\u6587\u4ef6\\nif [ -f \\"/usr/local/nebula/backup/$tar_file\\" ]; then\\necho \\"\u6210\u529f\u538b\u7f29\u76ee\u5f55 ${backup_dir} \u4e3a\u6587\u4ef6 /usr/local/nebula/backup/${tar_file}\u3002\\"\\nelse\\necho \\"\u538b\u7f29\u5931\u8d25\u3002\\"\\nexit 1\\nfi\\n```\\n\\n## 8.\u96c6\u7fa4\u62d3\u5c55\\nNebula \u96c6\u7fa4\u6539\u9020\u671f\u95f4\u9700\u8981\u505c\u670d\uff0c\u670d\u52a1\u9700\u8981\u4e2d\u65ad\u3002\\n\u96c6\u7fa4\u642d\u5efa\u53ef\u4ee5\u901a\u8fc7\u4fee\u6539\u914d\u7f6e\u5b8c\u6210\uff0c\u6682\u4e0d\u5173\u6ce8\u3002\\n\u800c\u6574\u4e2a\u6269\u5c55\u7684\u6838\u5fc3\u5728\u4e8e storage \u7ec4\u4ef6\u7684\u6570\u636e\u8d1f\u8f7d\u662f\u5426\u5747\u8861\u3002\\n\u76ee\u524d Nubula \u652f\u6301\u4f7f\u7528\u547d\u4ee4SUBMIT JOB BALANCE LEADER\u5747\u8861\u5206\u5e03\u6240\u6709\u56fe\u7a7a\u95f4\u4e2d\u7684 Leader \u5206\u7247\u526f\u672c\u3002\u4f46\u96c6\u7fa4\u573a\u666f\u4e0b\u6548\u679c\u5982\u4f55\uff0c\u5f85\u9a8c\u8bc1\u3002\\n\\n\\n\\n<br/>\\n\\n:::info \ud83d\udc47\ud83d\udc47\ud83d\udc47\\n**\u672c\u6587\u4f5c\u8005:** \u6a59\u5b50\u6602<br/>\\n**\u7248\u6743\u58f0\u660e:** \u8f6c\u8f7d\u8bf7\u6ce8\u660e\u51fa\u5904\u54e6~\ud83d\udc6e\u200d\ud83d\udc6e\u200d\ud83d\udc6e\u200d\\n:::"},{"id":"\u4e91\u539f\u751f\u6280\u672f\u63a2\u7d22","metadata":{"permalink":"/orange-ang/blog/\u4e91\u539f\u751f\u6280\u672f\u63a2\u7d22","editUrl":"https://github.com/czasg/orange-ang/edit/main/blog/2024/04-30-\u4e91\u539f\u751f\u6280\u672f\u63a2\u7d22/index.mdx","source":"@site/blog/2024/04-30-\u4e91\u539f\u751f\u6280\u672f\u63a2\u7d22/index.mdx","title":"\u4e91\u539f\u751f\u6280\u672f\u63a2\u7d22","description":"\u5982\u679c\u572810\u5e74\u524d\uff0c\u6709\u4eba\u7ed9\u4f60\u505a \u5bb9\u5668\u3001\u4e91\u539f\u751f\uff0cServerless\u7684\u5206\u4eab\uff0c\u4f60\u80af\u5b9a\u4f1a\u4ee5\u4e3a\u8fd9\u4e2a\u4eba\u662f\u4e2a\u5927\u5ffd\u60a0\u3002\u7279\u522b\u662f\u5982\u679c\u4f60\u5728\u5f53\u65f6\u5c31\u6709\u4e86\u4e00\u5b9a\u7684\u77e5\u8bc6\u79ef\u7d2f\uff0c\u4f60\u66f4\u53ef\u80fd\u89c9\u5f97\u8fd9\u4e9b\u6280\u672f\uff0c\u90fd\u53ea\u4e0d\u8fc7\u662f\u201c\u65b0\u74f6\u88c5\u65e7\u9152\u201d\uff0c\u4e0d\u503c\u5f97\u8fc7\u5ea6\u5173\u6ce8\u3002","date":"2024-04-30T00:00:00.000Z","formattedDate":"2024\u5e744\u670830\u65e5","tags":[{"label":"\u64b0\u5199\u4e2d","permalink":"/orange-ang/blog/tags/\u64b0\u5199\u4e2d"},{"label":"\u5f85\u5206\u7c7b","permalink":"/orange-ang/blog/tags/\u5f85\u5206\u7c7b"}],"readingTime":19.65,"hasTruncateMarker":true,"authors":[{"name":"\u6a59\u5b50\u6602","title":"Site Maintainer","url":"https://github.com/czasg","imageURL":"https://github.com/czasg.png","key":"czasg"}],"frontMatter":{"title":"\u4e91\u539f\u751f\u6280\u672f\u63a2\u7d22","authors":["czasg"],"tags":["\u64b0\u5199\u4e2d","\u5f85\u5206\u7c7b"],"slug":"\u4e91\u539f\u751f\u6280\u672f\u63a2\u7d22","toc_max_heading_level":5},"unlisted":false,"prevItem":{"title":"Nebula\u6570\u636e\u5e93\u642d\u5efa","permalink":"/orange-ang/blog/Nebula\u6570\u636e\u5e93\u642d\u5efa"},"nextItem":{"title":"\u7ed3\u6784\u5316\u601d\u7ef4\u5b9e\u6218-\u6df1\u5ea6\u601d\u8003\u6a21\u578b","permalink":"/orange-ang/blog/structure-mind-deep-thinking"}},"content":"import FullScreenImage from \'@site/src/components/FullScreenImage\';\\nimport BrowserWindow from \'@site/src/components/BrowserWindow\';\\nimport Tabs from \'@theme/Tabs\';\\nimport TabItem from \'@theme/TabItem\';\\n\\n\x3c!--package--\x3e\\n\\n\u5982\u679c\u572810\u5e74\u524d\uff0c\u6709\u4eba\u7ed9\u4f60\u505a \u5bb9\u5668\u3001\u4e91\u539f\u751f\uff0cServerless\u7684\u5206\u4eab\uff0c\u4f60\u80af\u5b9a\u4f1a\u4ee5\u4e3a\u8fd9\u4e2a\u4eba\u662f\u4e2a\u5927\u5ffd\u60a0\u3002\u7279\u522b\u662f\u5982\u679c\u4f60\u5728\u5f53\u65f6\u5c31\u6709\u4e86\u4e00\u5b9a\u7684\u77e5\u8bc6\u79ef\u7d2f\uff0c\u4f60\u66f4\u53ef\u80fd\u89c9\u5f97\u8fd9\u4e9b\u6280\u672f\uff0c\u90fd\u53ea\u4e0d\u8fc7\u662f\u201c\u65b0\u74f6\u88c5\u65e7\u9152\u201d\uff0c\u4e0d\u503c\u5f97\u8fc7\u5ea6\u5173\u6ce8\u3002\\n\\n\u4f46\u6280\u672f\u7684\u6f14\u8fdb\uff0c\u5f80\u5f80\u5c31\u662f\u4ece **\u201c\u770b\u4e0d\u5230 / \u770b\u4e0d\u8d77\u201d => \\"\u770b\u4e0d\u61c2\\" => \\"\u8ddf\u4e0d\u4e0a\\"**\u3002\\n\\n\u4f46\u65e0\u8bba\u73b0\u9636\u6bb5\u7684\u6211\u4eec\u5904\u4e8e\u90a3\u79cd\u72b6\u6001\uff0c\u5728\u5f53\u524d\u5bb9\u5668\u5316\u65f6\u4ee3\uff0c\u638c\u63e1\u5bb9\u5668\u5f15\u64ce\u3001\u5bb9\u5668\u7f16\u6392\u7ba1\u7406\u5de5\u5177\u7684\u4f7f\u7528\uff0c\u4e86\u89e3\u5176\u57fa\u7840\u6982\u5ff5\u4e0e\u539f\u7406\uff0c\u8fd9\u90fd\u5c06\u6709\u52a9\u4e8e\u65e5\u5e38\u5de5\u4f5c\u7684\u5f00\u5c55\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## 1.\u4e91\u8ba1\u7b97\u6f14\u8fdb\u53f2\\n\\n:::info \u4e91\u8ba1\u7b97\\n\\n\u4e91\u8ba1\u7b97\u662f\u901a\u8fc7\u4e92\u8054\u7f51\u63d0\u4f9b\u8ba1\u7b97\u8d44\u6e90\u4e0e\u670d\u52a1\uff0c\u7528\u6237\u6309\u9700\u83b7\u53d6\uff0c\u65e0\u9700\u62e5\u6709\u786c\u4ef6\uff0c\u5b9e\u73b0\u7075\u6d3b\u3001\u7ecf\u6d4e\u9ad8\u6548\u7684\u8ba1\u7b97\u6a21\u5f0f\uff0c\u800c\u65e0\u9700\u5728\u672c\u5730\u62e5\u6709\u548c\u7ef4\u62a4\u786c\u4ef6\u548c\u8f6f\u4ef6\u3002\\n\\n\u7b80\u5355\u6765\u8bf4\uff1a\u4e91\u8ba1\u7b97\u662f\u4e00\u79cd\u670d\u52a1\u6a21\u5f0f\uff0c\u5b83\u901a\u8fc7\u4e92\u8054\u7f51\u51fa\u79df\u4e91\u670d\u52a1\u5668\u3002\\n\\n:::\\n\\n:::info \u4e91\u539f\u751f\\n\\nCNCF\uff08Cloud Native Computing Foundation\uff0c\u4e91\u539f\u751f\u8ba1\u7b97\u57fa\u91d1\u4f1a\uff09\u5bf9\u4e91\u539f\u751f\u7684\u5b9a\u4e49\uff1a\u4e91\u539f\u751f\u6280\u672f\u662f\u6709\u5229\u4e8e\u5404\u7ec4\u7ec7\u5728\u516c\u6709\u4e91\u3001\u79c1\u6709\u4e91\u548c\u6df7\u5408\u4e91\u7b49\u65b0\u578b\u52a8\u6001\u73af\u5883\u4e2d\uff0c\u6784\u5efa\u548c\u8fd0\u884c\u53ef\u5f39\u6027\u6269\u5c55\u7684\u5e94\u7528\u6280\u672f\u3002\u5176\u4ee3\u8868\u6280\u672f\u5305\u62ec\uff1a\u5bb9\u5668\u3001\u670d\u52a1\u7f51\u683c\u3001\u5fae\u670d\u52a1\u3001\u4e0d\u53ef\u53d8\u57fa\u7840\u8bbe\u65bd\u548c\u58f0\u660e\u5f0f API \u7b49\u3002\\n\\n\u7b80\u5355\u6765\u8bf4\uff1a\u4e91\u539f\u751f\u662f\u4e00\u79cd\u8f6f\u4ef6\u6280\u672f\u67b6\u6784\uff0c\u5728\u4e91\u8ba1\u7b97\u7684\u57fa\u7840\u4e0a\uff0c\u5b9e\u73b0\u4e86\uff1a\\n\\n- \u5e94\u7528\u5bb9\u5668\u5316\\n- \u5bb9\u5668\u7f16\u6392\u5316\uff08\u6a2a\u5411\u6269\u5bb9\u3001\u6eda\u52a8\u5347\u7ea7\u3001\u8d1f\u8f7d\u5747\u8861\u3001\u5bb9\u707e\u5907\u4efd\u7b49\uff09\\n\\n:::\\n\\n\\n\\n### 1.1.\u865a\u62df\u5316\u6280\u672f\u843d\u5730\\n\\n\u865a\u62df\u5316\u6280\u672f\u662f\u4e00\u79cd\u8d44\u6e90\u7ba1\u7406\u6280\u672f\uff0c\u5728\u5404\u79cd\u5b9e\u4f53\u8d44\u6e90\uff08CPU\u3001\u5185\u5b58\u3001\u7f51\u7edc\u3001\u5b58\u50a8\u7b49\uff09\u4e4b\u4e0a\u6784\u5efa\u4e00\u4e2a\u903b\u8f91\u5c42\uff0c\u4ece\u800c\u6446\u8131\u7269\u7406\u9650\u5236\u7684\u7ea6\u675f\uff0c\u63d0\u9ad8\u7269\u7406\u8d44\u6e90\u7684\u5229\u7528\u7387\u3002\\n\\n- 2001 \u5e74 VMware \u53d1\u5e03 VMware ESX\u3002\u5b83\u53ef\u4ee5\u5728\u540c\u4e00\u53f0\u7269\u7406\u673a\u4e0a\u8fd0\u884c\u591a\u4e2a\u865a\u62df\u673a\u3002\u8fd9\u610f\u5473\u7740\u865a\u62df\u5316\u6280\u672f\u771f\u6b63\u5f97\u5230\u4e86\u843d\u5730\uff0c\u670d\u52a1\u5668\u7684\u6570\u91cf\u5c06\u4e0b\u964d\uff0c\u4e0e\u4e4b\u5bf9\u5e94\u7684\u662f\uff0c\u670d\u52a1\u5668\u8d44\u6e90\u5c06\u5f97\u5230\u66f4\u52a0\u5145\u5206\u7684\u5229\u7528\u3002 <br/>\\n- 2006 \u5e74 AWS \u9996\u521b\u6309\u65f6\u8ba1\u8d39\u7684\u65b9\u5f0f\u79df\u501f\u670d\u52a1\u5668\uff0c\u63ed\u5f00\u4e86\u4e91\u8ba1\u7b97\u65f6\u4ee3\u5e37\u5e55\u3002 <br/>\\n- 2008 \u5e74 Alibaba \u5f00\u59cb\u7b79\u5907\u963f\u91cc\u4e91\uff0c\u4e91\u8ba1\u7b97\u9010\u6e10\u6210\u4e3a\u8ba1\u7b97\u673a\u9886\u57df\u6700\u4ee4\u4eba\u5173\u6ce8\u7684\u8bdd\u9898\u4e4b\u4e00\u3002 <br/>\\n- 2010 \u5e74 openstack \u53d1\u5e03\u7b2c\u4e00\u4e2a\u5f00\u6e90\u7248\u672c\uff0c\u4e91\u8ba1\u7b97\u6b63\u5f0f\u8fdb\u5165\u5f00\u6e90\u65f6\u4ee3\u3002 <br/>\\n\\n\u5c0f\u7ed3\uff1a\u865a\u62df\u5316\u6280\u672f \u63d0\u9ad8\u4e86 \u7269\u7406\u8d44\u6e90\u7684\u5229\u7528\u7387\u3002\u6781\u5927\u7684\u63d0\u5347\u4e86\u786c\u4ef6\u4ef7\u503c\u4e0a\u9650\u3002\\n\\n### 1.2.\u5bb9\u5668\u5316\u6280\u672f\u843d\u5730\\n\\n\u5bb9\u5668\u5316\u6280\u672f\u540c\u6837\u4e5f\u662f\u4e00\u79cd\u8d44\u6e90\u7ba1\u7406\u6280\u672f\uff0c\u5b83\u662f\u5728\u590d\u7528\u7cfb\u7edf\u5185\u6838\u7684\u57fa\u7840\u4e4b\u4e0a\uff0c\u5bf9\u5b9e\u4f53\u8d44\u6e90\uff08\u7f51\u7edc\u3001\u8fdb\u7a0b\u3001\u5b58\u50a8\u7b49\uff09\u8fdb\u4e00\u6b65\u7684\u6784\u5efa\u4e00\u4e2a\u903b\u8f91\u5c42\u3002\u56e0\u6b64\u76f8\u6bd4\u5bf9\u865a\u62df\u5316\u6280\u672f\uff0c\u5bb9\u5668\u5316\u6280\u672f\u9694\u79bb\u662f\u4e0d\u5f7b\u5e95\u7684\uff0c\u4f46\u66f4\u8f7b\u91cf\u7ea7\u3002\\n\\n- 2013 \u5e74 docker \u53d1\u5e03\u3002\u5bb9\u5668\u5728\u591a\u6570\u9886\u57df\u9010\u6b65\u66ff\u4ee3 VM\uff0c\u4e91\u8ba1\u7b97\u8fdb\u5165\u5bb9\u5668\u65f6\u4ee3\u3002 <br/>\\n- 2018 \u5e74 kubernetes \u57fa\u672c\u5168\u9762\u8d62\u5f97\u5bb9\u5668\u7f16\u6392\u5e02\u573a\u7684\u80dc\u5229\uff0c\u4e91\u8ba1\u7b97\u8fdb\u5165 K8S \u65f6\u4ee3\u3002 <br/>\\n\\n\u5c0f\u7ed3\uff1a\u5bb9\u5668\u5316\u6280\u672f \u5efa\u7acb\u5728 \u865a\u62df\u5316\u6280\u672f\u4f18\u52bf\u4e4b\u4e0a\uff0c\u4e0d\u4ec5\u5927\u5e45\u63d0\u9ad8\u4e86\u8d44\u6e90\u7684\u5229\u7528\u7387\uff0c\u8fd8\u63d0\u4f9b\u66f4\u8f7b\u91cf\u7ea7\u7684\u7ba1\u7406\u65b9\u5f0f\u3002\\n\\n\\n## 2.\u4e91\u539f\u751f\u4ee3\u8868\u6280\u672f\\n\\n### 2.1.\u5bb9\u5668\u6280\u672f\uff08docker\uff09\\n\\n#### 2.1.1.\u4ec0\u4e48\u573a\u666f\u4e0b\u53ef\u4ee5\u4f7f\u7528\u5bb9\u5668\u6280\u672f?\\n\\n```\\n\u67d0\u516c\u53f8...\\n\\n\u7814\u53d1\uff1a\u670d\u52a1\u662f\u5426\u53ef\u4ee5\u76f4\u63a5\u90e8\u7f72\u5728\u5185\u90e8\u7684\u865a\u62df\u673a\u4e0a\\n\u7ec4\u957f\uff1a\u53ef\u4ee5\uff0c\u4f46\u4e0d\u5efa\u8bae\uff0c\u4f60\u4eec\u81ea\u5df1\u90e8\u7f72\u7684\u670d\u52a1\uff0c\u6ca1\u6709\u8fd0\u7ef4\u4fdd\u969c\uff0c\u5bb9\u6613\u80cc\u9505\\n\u7814\u53d1\uff1a\u53ef\u662f\u6211\u4eec\u4e4b\u524d\u516c\u53f8\u90fd\u662f\u90e8\u7f72\u5728\u81ea\u5df1\u7684\u865a\u62df\u673a\u4e0a\\n\u7ec4\u957f\uff1a\u4f60\u53ef\u4ee5\u628a\u670d\u52a1\u6784\u5efa\u955c\u50cf\uff0c\u7136\u540e\u7528\u5bb9\u5668\u53bb\u8dd1\\n\u7814\u53d1\uff1a\u6ca1\u5fc5\u8981\u554a\uff0c\u6211\u73af\u5883\u90fd\u914d\u597d\u4e86\uff0c\u76f4\u63a5\u8dd1\u4e0d\u662f\u4e00\u6837\u7684\uff0c\u6027\u80fd\u8fd8\u66f4\u597d...\\n\u7ec4\u957f\uff1a\u90a3\u5982\u679c\u8fd9\u53f0\u865a\u62df\u673a\u6709\u95ee\u9898\uff0c\u4f60\u80fd\u786e\u4fdd\u670d\u52a1\u5feb\u901f\u6062\u590d\u5417\\n\u7814\u53d1\uff1a\u53ef\u4ee5\uff0c\u7a0b\u5e8f\u4f9d\u8d56\u90fd\u5df2\u7ecf\u6253\u5305\u597d\u4e86\uff08jar / venv / static / bin\uff09\uff0c\u53ef\u4ee5\u5feb\u901f\u91cd\u65b0\u90e8\u7f72\u6062\u590d\\n\u7ec4\u957f\uff1aojbk\\n\\n... ...\\n\\n\u67d0\u5929\uff0c\u865a\u62df\u673a\u88c2\u5f00\u4e86\uff0c\u7814\u53d1\u8dd1\u8def\uff0c\u8fd0\u7ef4\u63a5\u5751...\\n\u8fd0\u7ef4\uff1a\u5b8c\u4e86\uff0c\u8fd9\u53fc\u6bdb jar \u600e\u4e48\u8dd1\u4e0d\u8d77\u6765\uff0c\u4e00\u5806\u98d8\u7ea2\u989d...\\n\u8fd0\u7ef4\uff1a\u5b8c\u4e86\uff0c\u8fd9\u53fc\u6bdb php \u662f\u8dd1\u8d77\u6765\u4e86\u8fd8\u662f\u6ca1\u8dd1\u8d77\u6765...\\n\\n... ...\\n```\\n\\n\u4e0a\u8ff0\u573a\u666f\uff0c\u7c97\u770b\u662f\u4e00\u4e2a\u6280\u672f\u58c1\u5792\u95ee\u9898\u3002\u672c\u8d28\u5e94\u8be5\u8fd8\u662f\u4e00\u4e2a\u7ba1\u7406\u95ee\u9898\uff08\u4ea4\u63a5\u6587\u6863\u6ca1\u6709\u5199\u6e05\u695a\uff0c\u90e8\u7f72\u8bf4\u660e\u6ca1\u6709\u4ecb\u7ecd\u6e05\u695a\u7b49...\uff09\u3002 <br/>\\n\u4f46\u662f\uff0c\u8fd9\u4e2a\u6848\u5217\u53c8\u975e\u5e38\u7ecf\u5178\uff0c\u56e0\u4e3a\u6280\u672f\u58c1\u5792\u5bfc\u81f4\u7684\u9879\u76ee\u7ba1\u7406\u590d\u6742\u5ea6\u4e0a\u5347\uff0c\u662f\u975e\u5e38\u5e38\u89c1\u7684\u3002 <br/>\\n\u7279\u522b\u662f\u5bf9\u4e00\u4e9b\u4ea4\u4ed8\u6e90\u7801\u7684\u9879\u76ee\uff0c\u8fd9\u79cd\u9879\u76ee\u5f80\u5f80\u9ad8\u5ea6\u4f9d\u8d56\u73af\u5883\u51c6\u5907... <br/>\\n\\n\u5982\u679c\u6709\u4e00\u79cd\u6280\u672f\uff0c\u5b83\u53ef\u4ee5\u5b9a\u4e49\u4e00\u79cd\u901a\u7528\u7684\u4ea4\u4ed8\u4ea7\u7269\uff0c\u6d88\u9664\u7814\u53d1\u3001\u6d4b\u8bd5\u3001\u8fd0\u7ef4\u3001\u4ea7\u54c1\u4e4b\u95f4\u7684\u5f3a\u6280\u672f\u58c1\u5792\uff0c\u5e76\u5728\u6574\u4e2a\u9879\u76ee\u751f\u547d\u5468\u671f\u5185\u8fbe\u6210\u4e00\u79cd\u901a\u7528\u7684\u201c\u8bed\u8a00\u201d\u3002\u90a3\u8fd9\u4e2a\u6280\u672f\uff0c\u7b80\u76f4\u6cf0\u88e4\u8fa3\u3002\\n\\n\u800c docker\uff0c\u5c31\u662f\u8fd9\u4e48\u4e00\u95e8\u6280\u672f\u3002 <br/>\\n\u5b83\u521b\u65b0\u6027\u7684\u5f15\u5165\u4e86\u955c\u50cf\u6982\u5ff5\uff0c\u91cd\u65b0\u5b9a\u4e49\u4e86\u4ea4\u4ed8\u4ea7\u7269\uff0c\u8ba9\u4e0d\u540c\u7684\u670d\u52a1\u4e4b\u95f4\uff0c\u53ef\u4ee5\u4ee5\u8fd1\u4e4e\u76f8\u4f3c\u7684\u65b9\u5f0f\u8fdb\u884c\u7ef4\u62a4\u3002 <br/>\\n\u4e5f\u6b63\u662f\u56e0\u4e3a\u955c\u50cf\u7684\u5f15\u5165\uff0c\u5f7b\u5e95\u6380\u8d77\u4e86\u5bb9\u5668\u5316\u7684\u70ed\u6f6e~ <br/>\\n\\n\u7b54\u6848\uff1a\u9664\u4e86\u4e0d\u80fd\u7528\u4f7f\u7528\u5bb9\u5668\u7684\u573a\u666f\uff0c\u5426\u5219\u90fd\u63a8\u8350\u4f7f\u7528\u5bb9\u5668\u6280\u672f~\\n\\n\\n\\n#### 2.1.2.\u4e00\u4e2a\u7b80\u5355\u7684\u5bb9\u5668\u573a\u666f\\n\\n\u573a\u666f\uff1a\u524d\u7aef\u7f16\u8bd1\u540e\u9700\u8981\u5bf9\u5916\u53d1\u5e03\\n\\n```python title=\\"1-\u7f16\u8bd1\u955c\u50cf\\"\\n### \u955c\u50cf\u62c9\u53d6\\n> docker pull nginx:latest\\n\\n### \u955c\u50cf\u6a21\u677f\\n> vim Dockerfile\\n1. FROM nginx:latest\\n2.\\n3. COPY ./dist/ /usr/share/nginx/html/\\n4. EXPOSE 80\\n\\n### \u7f16\u8bd1\u955c\u50cf\\n> docker build -t harbor.avlyun.org/developer-center/web-fe:latest .\\n```\\n\\n```python title=\\"2-\u63a8\u9001\u955c\u50cf\\"\\n### \u767b\u5f55\u955c\u50cf\u4ed3\u5e93\\n> docker login harbor.avlyun.org\\n\\n### \u63a8\u9001\u955c\u50cf\\n> docker push harbor.avlyun.org/developer-center/web-fe:latest\\n```\\n\\n```python title=\\"3-\u8fd0\u884c\u5bb9\u5668\\"\\n### \u767b\u5f55\u8fdc\u7a0b\u670d\u52a1\\n> ssh xx.xx.xx.xx\\n\\n### \u62c9\u53d6\u955c\u50cf\\n> docker pull harbor.avlyun.org/developer-center/web-fe:latest\\n\\n### \u542f\u52a8\u670d\u52a1\\n> docker run -itd --name web-fe -p 80:80 harbor.avlyun.org/developer-center/web-fe:latest\\n```\\n\\n#### 2.1.3.\u5bb9\u5668\u6838\u5fc3\u6280\u672f\\n- cgroups\uff1a\u53ef\u4ee5\u63a7\u5236\u8fdb\u7a0b\u8d44\u6e90\u7684\u4f7f\u7528\u3002\u5982\uff1aCPU\u3001\u5185\u5b58 \u7b49\u3002\\n- namespace\uff1a\u53ef\u4ee5\u63a7\u5236\u8fdb\u7a0b\u8d44\u6e90\u7684\u9694\u79bb\u3002\u5982\uff1a\u7f51\u7edc\u3001\u5b58\u50a8 \u7b49\u3002\\n- unionfs\uff1a\u53ef\u4ee5\u5c06\u591a\u4e2a\u76ee\u5f55\u8054\u5408\u6302\u8f7d\u5230\u4e00\u4e2a\u7edf\u4e00\u7684\u76ee\u5f55\u3002\uff08\u53ef\u4ee5\u7b80\u5355\u8ba4\u4e3a\u662f\u4e00\u79cd\u53ea\u8bfb\u7684\u8f6f\u94fe\u63a5\uff09\\n\\n#### 2.1.4.docker\u6838\u5fc3\u6982\u5ff5\\n- \u955c\u50cf\\n- \u7f51\u7edc\\n- \u5b58\u50a8\u5377\\n\\n##### 2.1.4.1.\u955c\u50cf\\n\\n\u955c\u50cf\u662f\u6784\u5efa\u548c\u8fd0\u884c\u5bb9\u5668\u7684\u57fa\u7840\u3002\u6211\u4eec\u53ef\u4ee5\u628a\u955c\u50cf\u7406\u89e3\u4e3a\u4e00\u4e2a\u53ea\u8bfb\u7684\u6a21\u677f\uff0c\u6216\u8005\u662f\u538b\u7f29\u5305\uff0c\u5b83\u5305\u542b\u4e86\u8fd0\u884c\u4e00\u4e2a\u5e94\u7528\u7a0b\u5e8f\u6240\u9700\u8981\u7684\u6240\u6709\u5185\u5bb9\uff1a\\n\\n- \u5e94\u7528\u7a0b\u5e8f\uff08\u6e90\u7801/\u7f16\u8bd1\u4ea7\u7269\uff09\\n- \u8fd0\u884c\u65f6\u73af\u5883\\n- \u7cfb\u7edf\u5de5\u5177\\n- \u4e09\u65b9\u5e93\u4f9d\u8d56\\n- \u914d\u7f6e\u53c2\u6570\\n- ... ...\\n\\n\u6211\u4eec\u5b8c\u5168\u53ef\u4ee5\u628a\u955c\u50cf\u7406\u89e3\u4e3a\u4e00\u4e2a\u72ec\u7acb\u4e14\u5b8c\u6574\u7684\u5e94\u7528\u7a0b\u5e8f\u5305\u3002\\n\\n\u601d\u8003\uff1a\u955c\u50cf\u548c\u4e4b\u524d\u6240\u63d0\u5230\u7684\u4ea4\u4ed8\u4ea7\u7269\u6709\u4f55\u533a\u522b\u3002\\n\\n\u955c\u50cf\u7531\u4e00\u7cfb\u5217\u7684\u5c42\u7ec4\u6210\uff0c\u6bcf\u4e2a\u5c42\u90fd\u4ee3\u8868\u7740\u955c\u50cf\u7684\u4e00\u90e8\u5206\u3002\u8fd9\u4e9b\u5c42\u5728\u6784\u5efa\u955c\u50cf\u65f6\u6309\u7167\u987a\u5e8f\u6dfb\u52a0\uff0c\u5e76\u4e14\u90fd\u662f\u53ea\u8bfb\u7684\uff0c\u56e0\u6b64\u5728\u6784\u5efa\u76f8\u540c\u5c42\u65f6\u53ef\u4ee5\u590d\u7528\uff0c\u4ece\u800c\u8282\u7701\u5b58\u50a8\u7a7a\u95f4\u3002\\n\\n<FullScreenImage src={require(\\"./image-layer.jpg\\").default} />\\n\\n\u81ea\u5df1\u6784\u5efa\u4e00\u4e2a\u955c\u50cf\\n\\n```dockerfile\\nFROM ubuntu:15.04\\n\\nmkdir /workplace\\n\\necho -n > /workplace/README.md\\n```\\n\\n<FullScreenImage src={require(\\"./image-layer-2.png\\").default} />\\n\\n\u955c\u50cf\u6700\u7ec8\u4f1a\u901a\u8fc7\u7c7b\u4f3c\u4e00\u79cd\u5806\u79ef\u6728\u7684\u65b9\u5f0f\u5448\u73b0\u51fa\u6765\u3002\u4ece\u6280\u672f\u89d2\u5ea6\u6765\u8bb2\uff0c\u8fd9\u662f\u901a\u8fc7\u8054\u5408\u6587\u4ef6\u7cfb\u7edf\u5b9e\u73b0\u7684\u3002\\n\\n<FullScreenImage src={require(\\"./image-layer-3.png\\").default} />\\n\\n\\n##### 2.1.4.2.\u7f51\u7edc\\n\\n\u5728 docker \u4e2d\uff0c\u7f51\u7edc\u662f\u4e00\u79cd\u7528\u4e8e\u5bb9\u5668\u95f4\u901a\u4fe1\u7684\u673a\u5236\u3002\u5728\u540c\u4e00\u4e2a\u865a\u62df\u7f51\u7edc\u4e0b\uff0c\u4e0d\u540c\u5bb9\u5668\u4e4b\u95f4\u662f\u53ef\u4ee5\u76f8\u4e92\u8bbf\u95ee\u7684\u3002\\n\\n<FullScreenImage src={require(\\"./network.png\\").default} />\\n\\n\u4e3a\u4e86\u786e\u4fdd\u5bb9\u5668\u6240\u5904\u7f51\u7edc\u73af\u5883\u9694\u79bb\u6027\uff0c\u53ef\u4ee5\u901a\u8fc7\u81ea\u5b9a\u4e49\u865a\u62df\u7f51\u7edc\u6765\u5b9e\u73b0\u3002\\n\\n```python\\n# \u521b\u5efa\u7f51\u7edcnetwork1\u548cnetwork2\\ndocker network create network1\\ndocker network create network2\\n\\n# \u5728network1\u4e2d\u521b\u5efa\u5bb9\u5668container1\\ndocker run -d --name container1 --network network1 your_image\\n\\n# \u5728network2\u4e2d\u521b\u5efa\u5bb9\u5668container2\\ndocker run -d --name container2 --network network2 your_image\\n```\\n\\n<FullScreenImage src={require(\\"./network-1.png\\").default} />\\n\\n\u4e3a\u4e86\u8fdb\u4e00\u6b65\u7684\u5b9e\u73b0\u7f51\u7edc\u8d44\u6e90\u5171\u4eab\uff0c\u53ef\u4ee5\u901a\u8fc7\u7f51\u7edc\u8fde\u63a5\u7684\u65b9\u5f0f\uff0c\u5c06\u591a\u5bb9\u5668\u8fde\u63a5\u5230\u67d0\u4e00\u4e2a\u5bb9\u5668\uff0c\u4ece\u800c\u590d\u7528\u6307\u5b9a\u5bb9\u5668\u7684\u7f51\u7edc\uff08IP\uff09\u8d44\u6e90\u3002\\n\\n```python\\n# \u521b\u5efa\u7f51\u7edcnetwork1\\ndocker network create network1\\n\\n# \u5728network1\u4e2d\u521b\u5efa\u5bb9\u5668container1\\ndocker run -d --name container1 --network network1 your_image\\n\\n# \u5728network1\u4e2d\u521b\u5efa\u5bb9\u5668container2\u3001container3\uff0c\u5e76\u8fde\u63a5\u5230container1\\ndocker run -d --name container2 --network=container:container1 your_image\\ndocker run -d --name container3 --network=container:container1 your_image\\n```\\n\\n<FullScreenImage src={require(\\"./network-2.png\\").default} />\\n\\n##### 2.1.4.3.\u5b58\u50a8\u5377\\n\\n\u5728 docker \u4e2d\uff0c\u5b58\u50a8\u5377\u662f\u4e00\u79cd\u7279\u6b8a\u7684\u6587\u4ef6\u76ee\u5f55\u6216\u8005\u6587\u4ef6\uff0c\u7528\u4e8e\u5728\u5bb9\u5668\u548c\u5bbf\u4e3b\u673a\u4e4b\u95f4\u5b9e\u73b0\u6301\u4e45\u5316\u5b58\u50a8\u6570\u636e\u3002\\n\\n\u548c\u955c\u50cf\u5c42\u7684\u53ea\u8bfb\u5c42\u4e0d\u540c\u7684\u662f\uff0c\u5b58\u50a8\u5377\u62e5\u6709\uff1a\\n\\n- \u6301\u4e45\u5316\u7684\\n- \u5171\u4eab\u7684\\n- \u72ec\u7acb\u4e8e\u5bb9\u5668\u751f\u547d\u5468\u671f\u7684\\n\\n```\\n# -v\\ndocker run -v /host/path:/container/path my_image\\n\\n# --mount\\ndocker run --mount type=bind,source=/host/path,target=/container/path my_image\\n```\\n\\n### 2.2.\u5bb9\u5668\u7f16\u6392\u6280\u672f\\n\\n\u5bb9\u5668\u7f16\u6392\u6280\u672f\u672c\u8d28\u5c31\u662f\u7ba1\u7406\u5bb9\u5668\u7684\u6280\u672f\u3002\\n\\n\u4e3a\u4ec0\u4e48\u9700\u8981\u4f7f\u7528\u5bb9\u5668\u7f16\u6392\u6280\u672f\uff0c\u5bb9\u5668\u7f16\u6392\u548c\u5bb9\u5668\u4e4b\u95f4\u7684\u5173\u7cfb\uff0c\u5c31\u7c7b\u4f3c \u865a\u62df\u673a \u548c openstack \u4e4b\u95f4\u7684\u5173\u7cfb\uff0c\u5bf9\u4e8e\u5927\u578b\u5bb9\u5668\u96c6\u7fa4\uff0c\u9700\u8981\u6709\u4fbf\u6377\u7684\u5de5\u5177\u6765\u7ba1\u7406\u3002\\n\\n#### 2.2.1.k8s\u96c6\u7fa4\u67b6\u6784\\nk8s \u5c31\u662f\u76ee\u524d\u5e02\u9762\u4e0a\u6700\u6210\u529f\u7684\u5bb9\u5668\u7f16\u6392\u5b9e\u73b0\u6807\u51c6\u3002\\n\\n\u5b83\u662f\u7ecf\u5178\u7684\u4e3b\u4ece\u67b6\u6784\uff0c\u5206\u522b\u662f\uff1acontaol-plane \u548c node\u3002\\n\\n|\u5f52\u5c5e|\u670d\u52a1|\u8bf4\u660e|\\n|---|---|---|\\n|control-plane|kube-api-server|k8s \u7f51\u5173\u670d\u52a1\uff0c\u7528\u4e8e\u63a5\u6536\u6240\u6709 k8s \u8bf7\u6c42\u5e76\u8fdb\u884c\u5904\u7406|\\n|control-plane|kube-controller-manager|k8s \u63a7\u5236\u5668\uff0c\u8d1f\u8d23\u76d1\u63a7\u7cfb\u7edf\u72b6\u6001\u4e0e\u53d8\u5316\uff0c\u786e\u4fdd\u76ee\u6807\u72b6\u6001\u7b26\u5408\u671f\u671b\u72b6\u6001|\\n|control-plane|kube-scheduler|k8s \u8c03\u5ea6\u5668\uff0c\u7edf\u7b79\u6240\u6709\u8282\u70b9\u8d44\u6e90\uff0c\u8d1f\u8d23\u548c\u8282\u70b9\u4ea4\u4e92\uff0c\u5e76\u57fa\u4e8e\u4e00\u5b9a\u7684\u89c4\u5219\uff08\u4eb2\u548c\u6027\u3001\u53cd\u4eb2\u548c\u6027\uff09\u8fdb\u884c\u8d44\u6e90\u8c03\u5ea6|\\n|control-plane|etcd|\u5206\u5e03\u5f0f\u952e\u503c\u5bf9\u5b58\u50a8\u7cfb\u7edf|\\n|node|kubectl|\u8282\u70b9\u4e0a\u7684\u4ee3\u7406\u670d\u52a1\uff0c\u8d1f\u8d23\u8be5\u8282\u70b9\u7684\u8fd0\u884c\u72b6\u6001\u3001\u5bb9\u5668\u7ba1\u7406\u7b49|\\n|node|kube-proxy|\u7ef4\u62a4\u8be5\u8282\u70b9\u4e0a\u7684\u7f51\u7edc\u89c4\u5219\uff0c\u4ee5\u786e\u4fdd\u670d\u52a1\u80fd\u591f\u88ab\u6b63\u786e\u53d1\u73b0|\\n|node|container-runtime|\u5bb9\u5668\u5f15\u64ce\uff0c\u8d1f\u8d23\u5bb9\u5668\u7ba1\u7406\uff0c\u5305\u62ec\uff1a\u521b\u5efa\u3001\u5220\u9664\u7b49|\\n|node|pod|k8s \u96c6\u7fa4\u4e2d\u6700\u5c0f\u7684\u53ef\u90e8\u7f72\u5355\u5143\u3002\u4e5f\u662f\u96c6\u7fa4\u4e2d\u5355\u670d\u52a1\u7684\u9ad8\u5c42\u62bd\u8c61|\\n\\n\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u719f\u6089 k8s \u7684\u4ea4\u4e92\u6d41\u7a0b\u6765\u719f\u6089 k8s \u67b6\u6784\u3002\u4e0b\u9762\u6f14\u793a\u4e00\u6b21\u5b8c\u6574\u7684 `kubectl apply -f deploy.yaml` \u6267\u884c\u6d41\u7a0b\u3002\\n\\n<FullScreenImage src={require(\\"./k8s.png\\").default} />\\n\\n\\n#### 3.2.2.pod\u8be6\u89e3\\n\\n\u5982\u679c k8s \u662f\u4ee5 docker \u4f5c\u4e3a\u5bb9\u5668\u5f15\u64ce\uff0c\u90a3\u4e48\u6211\u4eec\u5b8c\u5168\u53ef\u4ee5\u5728\u672c\u5730\u901a\u8fc7 docker \u6a21\u62df\u51fa pod \u7684\u884c\u4e3a\u3002\\n\\n<BrowserWindow>\\n    <Tabs>\\n        <TabItem value=\\"pod\\" label=\\"Pod\\" default>\\n\\n```yaml\\napiVersion: v1\\nkind: Pod\\nmetadata:\\n  name: nginx\\nspec:\\n  containers:\\n  - name: nginx\\n    image: nginx:latest\\n    ports:\\n    - containerPort: 80\\n```\\n\\n        </TabItem>\\n        <TabItem value=\\"docker-compose\\" label=\\"DockerCompose\\">\\n\\n```yaml\\nversion: \'3\'\\nservices:\\n  nginx:\\n    image: nginx:latest\\n    ports:\\n      - \\"80:80\\"\\n```\\n\\n        </TabItem>\\n    </Tabs>\\n</BrowserWindow>\\n\\n\u5bf9\u4e8e\u7b80\u5355\u573a\u666f\u4e0b\u7684\u5355\u5bb9\u5668 Pod \u6765\u8bf4\uff0ck8s \u548c docker \u90e8\u7f72\u7684\u670d\u52a1\u51e0\u4e4e\u6ca1\u6709\u4efb\u4f55\u533a\u522b\u3002\\n\\n\u4f46\u662f\uff0c\u5728\u591a\u5bb9\u5668\u573a\u666f\u4e0b\uff0cPod \u5bf9\u5916\u8868\u73b0\u51fa\u6765\u7684\u66f4\u50cf\u662f\u4e00\u4e2a\u6574\u4f53\uff0c\u56e0\u4e3a\u4ed6\u4eec\u5bf9\u5916\u53ea\u6709\u4e00\u4e2a IP ~\\n\\n<BrowserWindow>\\n    <Tabs>\\n        <TabItem value=\\"pod-2\\" label=\\"Pod\\" default>\\n\\n```yaml\\napiVersion: v1\\nkind: Pod\\nmetadata:\\n  name: nginx\\nspec:\\n  containers:\\n  - name: nginx\\n    image: nginx:latest\\n    ports:\\n    - containerPort: 80\\n  - name: server\\n    image: server:latest\\n    ports:\\n    - containerPort: 8080\\n```\\n\\n        </TabItem>\\n        <TabItem value=\\"docker-compose-2\\" label=\\"DockerCompose\\">\\n\\n```yaml\\nversion: \'3\'\\nservices:\\n  nginx:\\n    image: nginx:latest\\n    ports:\\n      - \\"80:80\\"\\n  server:\\n    image: server:latest\\n    ports:\\n      - \\"8080:8080\\"\\n```\\n\\n        </TabItem>\\n        <TabItem value=\\"cmd\\" label=\\"CMD\\">\\n\\n```yaml\\ndocker create network pod\\n\\ndocker run -d --name pause --network=pod pause:latest\\n\\ndocker run -d --name nginx --network=container:pause nginx:latest\\ndocker run -d --name server --network=container:pause server:latest\\n```\\n\\n        </TabItem>\\n    </Tabs>\\n</BrowserWindow>\\n\\n\u5bf9\u4e8e\u8fd9\u79cd\u573a\u666f\u4e0b\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u5bb9\u5668\u8fde\u63a5\u6765\u5b9e\u73b0\uff0c\u4f46\u95ee\u9898\u662f\uff0c\u4ee5\u8c01\u4e3a\u6839\u5bb9\u5668\u4f5c\u4e3a\u88ab\u5176\u4ed6\u5bb9\u5668\u8fde\u63a5\u7684\u5bf9\u8c61\u5462\uff1f\\n\\nPS\uff1a\u6839\u5bb9\u5668\u7684\u7279\u70b9\uff1a\u7a33\u5b9a\\n\\nPod \u8be6\u89e3\\n\\n<FullScreenImage src={require(\\"./k8s-2.png\\").default} />\\n\\n```yaml\\napiVersion: v1\\nkind: Pod\\nmetadata:\\n  name: nginx-pod\\nspec:\\n  initContainers:  # \u521d\u59cb\u5316\u5bb9\u5668\u5217\u8868\\n  - name: init-container\\n    image: busybox\\n    command: [\'sh\', \'-c\', \'echo Initializing... && sleep 5\']  # \u6267\u884c\u521d\u59cb\u5316\u64cd\u4f5c\uff0c\u8f93\u51fa\u6d88\u606f\u5e76\u4f11\u77205\u79d2\u949f\\n  containers:  # \u4e3b\u5bb9\u5668\u5217\u8868\\n  - name: nginx-container\\n    image: nginx\\n    lifecycle:  # \u5b9a\u4e49\u5bb9\u5668\u7684\u751f\u547d\u5468\u671f\u94a9\u5b50\\n      postStart:\\n        exec:\\n          command: [\\"/bin/sh\\", \\"-c\\", \\"echo Container started.\\"]  # \u5728\u5bb9\u5668\u542f\u52a8\u540e\u6267\u884c\u7684\u547d\u4ee4\\n      preStop:\\n        exec:\\n          command: [\\"/bin/sh\\", \\"-c\\", \\"echo Container stopping...\\"]  # \u5728\u5bb9\u5668\u505c\u6b62\u524d\u6267\u884c\u7684\u547d\u4ee4\\n    readinessProbe:  # \u5c31\u7eea\u6027\u68c0\u67e5\\n      httpGet:\\n        path: /\\n        port: 80\\n      initialDelaySeconds: 5  # \u5bb9\u5668\u542f\u52a8\u540e\u7b49\u5f855\u79d2\u518d\u8fdb\u884c\u7b2c\u4e00\u6b21\u68c0\u67e5\\n      periodSeconds: 5  # \u95f4\u96945\u79d2\u8fdb\u884c\u4e00\u6b21\u68c0\u67e5\\n    livenessProbe:  # \u5b58\u6d3b\u6027\u68c0\u67e5\\n      httpGet:\\n        path: /\\n        port: 80\\n      initialDelaySeconds: 10  # \u5bb9\u5668\u542f\u52a8\u540e\u7b49\u5f8510\u79d2\u518d\u8fdb\u884c\u7b2c\u4e00\u6b21\u68c0\u67e5\\n      periodSeconds: 5  # \u95f4\u96945\u79d2\u8fdb\u884c\u4e00\u6b21\u68c0\u67e5\\n    volumeMounts:  # \u5bb9\u5668\u7684\u6302\u8f7d\u70b9\\n    - name: shared-data\\n      mountPath: /usr/share/nginx/html  # \u5c06 emptyDir \u5377\u6302\u8f7d\u5230\u5bb9\u5668\u7684 /usr/share/nginx/html \u8def\u5f84\uff0c\u5b9e\u73b0\u6570\u636e\u5171\u4eab\\n  volumes:  # \u5377\u5217\u8868\\n  - name: shared-data\\n    emptyDir: {}  # \u7a7a\u76ee\u5f55\u5377\uff0c\u7528\u4e8e\u5728 init-container \u548c\u4e3b\u5bb9\u5668\u4e4b\u95f4\u5171\u4eab\u6570\u636e\\n  restartPolicy: Always  # \u5bb9\u5668\u7684\u91cd\u542f\u7b56\u7565\uff0c\u59cb\u7ec8\u91cd\u542f\\n```\\n\\n#### 3.2.3.\u5e38\u7528\u8d44\u6e90\u5bf9\u8c61\u4ecb\u7ecd\\n\u5728 k8s \u96c6\u7fa4\u4e2d\uff0c\u4e00\u822c\u4e0d\u76f4\u63a5\u4f7f\u7528 pod\u3002\u56e0\u4e3a pod \u7684\u751f\u547d\u5468\u671f\u88ab\u89c6\u4e3a\u77ed\u6682\u7684~\\n\\n\u4e3a\u4e86\u66f4\u597d\u7684\u53bb\u7ba1\u7406\u96c6\u7fa4\u4e2d\u7684 pod \u5e94\u7528\uff0ck8s \u96c6\u7fa4\u5f15\u5165\u4e86\u5176\u4ed6\u7684\u8d44\u6e90\u5bf9\u8c61\u3002\\n\\n|\u8d44\u6e90\u5bf9\u8c61|\u8bf4\u660e|\u5176\u4ed6|\\n|---|---|---|\\n|Deployment||\\n|Service|\u4e00\u7ec4\u670d\u52a1\u7684\u62bd\u8c61|dns|\\n|Ingress|\u8def\u7531\u89c4\u5219\u96c6\uff0c\u7528\u4e8e\u63a7\u5236\u96c6\u7fa4\u5916\u90e8\u6d41\u91cf\u5bfc\u5165|nginx|\\n|ConfigMap|\u914d\u7f6e\u4e2d\u5fc3||\\n\\n<FullScreenImage src={require(\\"./k8s-3.png\\").default} />\\n\\n##### 3.2.3.1.configmap\\nconfigmap \u662f\u952e\u503c\u5bf9\u914d\u7f6e\uff0c\u53ef\u4ee5\u4ee5\u73af\u5883\u53d8\u91cf\u6216\u8005\u6587\u4ef6\u7684\u5f62\u5f0f\u6ce8\u5165\u8fdb pod\u3002\\n\\n```yaml\\napiVersion: v1\\nkind: ConfigMap\\nmetadata:\\n  name: nginx\\ndata:\\n  LOG_LEVEL: debug\\n  LOG_FORMAT: json\\n  NGINX_CONFIG_FILE: |-\\n    server {\\n        listen       80;\\n        server_name  localhost;\\n        location / {\\n            root   /usr/share/nginx/html;\\n            index  index.html index.htm;\\n        }\\n        error_page   500 502 503 504  /50x.html;\\n        location = /50x.html {\\n            root   /usr/share/nginx/html;\\n        }\\n    }\\n---\\napiVersion: v1\\nkind: Pod\\nmetadata:\\n  name: nginx\\nspec:\\n  containers:\\n  - name: nginx\\n    image: nginx:latest\\n    ports:\\n    - containerPort: 80\\n    envFrom: # \u6307\u5b9a\u73af\u5883\u53d8\u91cf\u6765\u6e90\u4e8econfigMap\\n    - configMapRef:\\n        name: nginx\\n    env: # \u76f4\u63a5\u5728pod\u4e2d\u6307\u5b9a\u9700\u8981\u54ea\u4e9b\u73af\u5883\u53d8\u91cf\uff0c\u6b64\u4f18\u5148\u7ea7\u6700\u9ad8\\n    - name: \\"LOG_LEVEL\\"\\n        value: \\"error\\"\\n    - name: \\"LOG_FORMAT\\"\\n        value: \\"text\\"\\n    volumeMounts: # \u901a\u8fc7\u6587\u4ef6\u7684\u5f62\u5f0f\u6ce8\u5165pod\\n    - mountPath: /etc/nginx/conf.d/\\n      name: nginx-conf-file\\n  volumes:\\n  - configMap: # \u6307\u5b9a\u5b58\u50a8\u5377\u7c7b\u578b\u4e3aconfigMap\\n      defaultMode: 420\\n      items:\\n      - key: NGINX_CONFIG_FILE # \u4ec5\u53d6\u51fa\u5176\u4e2d\u67d0\u4e2akey\\n        path: default.conf\\n      name: nginx-conf-file\\n```\\n\\n##### 3.2.3.2.ingress\\n\\n```yaml\\napiVersion: extensions/v1beta1\\nkind: Ingress\\nmetadata:\\n  name: nginx\\nspec:\\n  rules:\\n    - host: nginx.hsk8s-dev.avlyun.org\\n      http:\\n        paths:\\n          - path: /download\\n            backend:\\n              serviceName: nginx\\n              servicePort: 80\\n          - path: /api/v1\\n            backend:\\n              serviceName: server-v1\\n              servicePort: 80\\n          - path: /api/v2\\n            backend:\\n              serviceName: server-v2\\n              servicePort: 80\\n```\\n\\n##### 3.2.3.3.service\\nservice \u662f\u4e00\u7ec4\u670d\u52a1\u7684\u62bd\u8c61\uff0c\u53ef\u7528\u4e8e DNS \u89e3\u6790\uff0c\u5176\u89e3\u6790\u7684\u7ed3\u679c\uff0c\u662f\u5bf9\u5e94 Pod \u7684 IP \u96c6\u5408\u3002\\n\\n\u56e0\u6b64\uff0c\u6211\u4eec\u5b8c\u5168\u53ef\u4ee5\u628a service \u5f53\u505a\u4e00\u4e2a\u5408\u6cd5\u7684\u57df\u540d\u6765\u4f7f\u7528\u3002\u4e0b\u9762\u901a\u8fc7\u6267\u884c `curl nginx.fos-2-dev` \u6765\u5c55\u793a service \u7684\u9b45\u529b~\\n\\n<FullScreenImage src={require(\\"./service.png\\").default} />\\n\\n```yaml\\napiVersion: v1\\nkind: Service\\nmetadata:\\n  name: nginx\\nspec:\\n  ports: # \u5b9a\u4e49\u4e00\u7ec4\u670d\u52a1\u4e2d\u7684\u7aef\u53e3\u8f6c\u53d1\\n  - name: nginx\\n    port: 80\\n    protocol: TCP\\n    targetPort: 80\\n  selector: # \u5b9a\u4e49\u4e00\u7ec4\u670d\u52a1\uff08pod\uff09\u6807\u7b7e\\n    app: nginx\\n  type: ClusterIP\\n```\\n\\n\u95ee\u9898\uff1a\u5728 k8s \u96c6\u7fa4\u4e2d\uff0c\u5230\u5e95\u5e94\u8be5\u5982\u4f55\u8bbf\u95ee\u5176\u4ed6\u670d\u52a1\uff1f\\n\\n\u7b54\u6848\uff1a\u5e94\u8be5\u901a\u8fc7 service.namespace \u6765\u8bbf\u95ee\uff0c\u76f4\u63a5\u7aef\u5230\u7aef\u7684\u8dd1\u6d41\u91cf\uff0c\u800c\u4e0d\u7528\u8d70 ingress \u8f6c\u53d1\u3002\\n\\n##### 3.2.3.1.deployment\\n\\n<BrowserWindow>\\n    <Tabs>\\n        <TabItem value=\\"pod-3\\" label=\\"Pod\\" default>\\n\\n```yaml\\napiVersion: v1\\nkind: Pod\\nmetadata:\\n  name: nginx\\nspec:\\n  containers:\\n  - name: nginx\\n    image: nginx:latest\\n    ports:\\n    - containerPort: 80\\n```\\n\\n        </TabItem>\\n        <TabItem value=\\"deployment-rollingUpdate\\" label=\\"Deployment/RollingUpdate\\">\\n\\n```yaml\\napiVersion: apps/v1\\nkind: Deployment\\nmetadata:\\n  name: nginx\\nspec:\\n  replicas: 3  # \u526f\u672c\u6570\u4e3a 3\\n  selector:\\n    matchLabels:\\n      app: nginx\\n  strategy:\\n    rollingUpdate:\\n      maxSurge: 50%  # \u5141\u8bb8\u7684\u6700\u5927\u8d85\u51fa\u526f\u672c\u6570\uff0c\u652f\u6301\u6574\u6570\uff0c\u4e5f\u652f\u6301\u767e\u5206\u6bd4\\n      maxUnavailable: 1  # \u5141\u8bb8\u7684\u6700\u5927\u4e0d\u53ef\u7528\u526f\u672c\u6570\uff0c\u652f\u6301\u6574\u6570\uff0c\u4e5f\u652f\u6301\u767e\u5206\u6bd4\\n    type: RollingUpdate  # \u4f7f\u7528\u6eda\u52a8\u5347\u7ea7\u7b56\u7565\\n  template:\\n    metadata:\\n      labels:\\n        app: nginx\\n    spec:\\n      containers:\\n      - name: nginx\\n        image: nginx:latest  # \u4f7f\u7528\u6700\u65b0\u7248\u672c\u7684 Nginx \u955c\u50cf\\n        ports:\\n        - containerPort: 80  # \u5bb9\u5668\u76d1\u542c\u7aef\u53e3 80\\n```\\n\\n        </TabItem>\\n        <TabItem value=\\"deployment-recreate\\" label=\\"Deployment/Recreate\\">\\n\\n```yaml\\napiVersion: apps/v1\\nkind: Deployment\\nmetadata:\\n  name: nginx\\nspec:\\n  replicas: 3  # \u526f\u672c\u6570\u4e3a 3\\n  selector:\\n    matchLabels:\\n      app: nginx\\n  strategy:\\n    type: Recreate # \u4f7f\u7528\u91cd\u5efa\u5347\u7ea7\u7b56\u7565\\n  template:\\n    metadata:\\n      labels:\\n        app: nginx\\n    spec:\\n      containers:\\n      - name: nginx\\n        image: nginx:latest  # \u4f7f\u7528\u6700\u65b0\u7248\u672c\u7684 Nginx \u955c\u50cf\\n        ports:\\n        - containerPort: 80  # \u5bb9\u5668\u76d1\u542c\u7aef\u53e3 80\\n```\\n\\n        </TabItem>\\n    </Tabs>\\n</BrowserWindow>\\n\\n\\n## 4.\u7b54\u7591\\n... ...\\n\\n\\n\\n\\n\\n\\n\\n<br/>\\n\\n:::info \ud83d\udc47\ud83d\udc47\ud83d\udc47\\n**\u672c\u6587\u4f5c\u8005:** \u6a59\u5b50\u6602 <br/>\\n**\u7248\u6743\u58f0\u660e:** \u8f6c\u8f7d\u8bf7\u6ce8\u660e\u51fa\u5904\u54e6~\ud83d\udc6e\u200d\ud83d\udc6e\u200d\ud83d\udc6e\u200d\\n:::"},{"id":"structure-mind-deep-thinking","metadata":{"permalink":"/orange-ang/blog/structure-mind-deep-thinking","editUrl":"https://github.com/czasg/orange-ang/edit/main/blog/2024/03-25-\u7ed3\u6784\u5316\u601d\u7ef4\u5b9e\u6218-\u6df1\u5ea6\u601d\u8003\u6a21\u578b/index.mdx","source":"@site/blog/2024/03-25-\u7ed3\u6784\u5316\u601d\u7ef4\u5b9e\u6218-\u6df1\u5ea6\u601d\u8003\u6a21\u578b/index.mdx","title":"\u7ed3\u6784\u5316\u601d\u7ef4\u5b9e\u6218-\u6df1\u5ea6\u601d\u8003\u6a21\u578b","description":"\u6458\u8981\u5728\u6b64\u5904","date":"2024-03-25T00:00:00.000Z","formattedDate":"2024\u5e743\u670825\u65e5","tags":[{"label":"\u64b0\u5199\u4e2d","permalink":"/orange-ang/blog/tags/\u64b0\u5199\u4e2d"},{"label":"\u7ed3\u6784\u5316\u601d\u7ef4\u5b9e\u6218","permalink":"/orange-ang/blog/tags/\u7ed3\u6784\u5316\u601d\u7ef4\u5b9e\u6218"}],"readingTime":0.215,"hasTruncateMarker":true,"authors":[{"name":"\u6a59\u5b50\u6602","title":"Site Maintainer","url":"https://github.com/czasg","imageURL":"https://github.com/czasg.png","key":"czasg"}],"frontMatter":{"title":"\u7ed3\u6784\u5316\u601d\u7ef4\u5b9e\u6218-\u6df1\u5ea6\u601d\u8003\u6a21\u578b","authors":["czasg"],"tags":["\u64b0\u5199\u4e2d","\u7ed3\u6784\u5316\u601d\u7ef4\u5b9e\u6218"],"slug":"structure-mind-deep-thinking"},"unlisted":false,"prevItem":{"title":"\u4e91\u539f\u751f\u6280\u672f\u63a2\u7d22","permalink":"/orange-ang/blog/\u4e91\u539f\u751f\u6280\u672f\u63a2\u7d22"},"nextItem":{"title":"\u7ed3\u6784\u5316\u601d\u7ef4\u5b9e\u6218-\u9f13\u52b1\u8d4b\u80fd\u6a21\u578b","permalink":"/orange-ang/blog/structure-mind-encourage-model"}},"content":"import AutoImage from \'@site/src/components/FullScreenImage\';\\n\\n\x3c!--package--\x3e\\n\\n\u6458\u8981\u5728\u6b64\u5904\\n\\n\x3c!--truncate--\x3e\\n\\n\u6b63\u6587\u5728\u6b64\u5904\\n\\n<br/>\\n\\n:::info \ud83d\udc47\ud83d\udc47\ud83d\udc47\\n**\u672c\u6587\u4f5c\u8005:** \u6a59\u5b50\u6602 <br/>\\n**\u7248\u6743\u58f0\u660e:** \u8f6c\u8f7d\u8bf7\u6ce8\u660e\u51fa\u5904\u54e6~\ud83d\udc6e\u200d\ud83d\udc6e\u200d\ud83d\udc6e\u200d\\n:::"},{"id":"structure-mind-encourage-model","metadata":{"permalink":"/orange-ang/blog/structure-mind-encourage-model","editUrl":"https://github.com/czasg/orange-ang/edit/main/blog/2024/03-25-\u7ed3\u6784\u5316\u601d\u7ef4\u5b9e\u6218-\u9f13\u52b1\u8d4b\u80fd\u6a21\u578b/index.mdx","source":"@site/blog/2024/03-25-\u7ed3\u6784\u5316\u601d\u7ef4\u5b9e\u6218-\u9f13\u52b1\u8d4b\u80fd\u6a21\u578b/index.mdx","title":"\u7ed3\u6784\u5316\u601d\u7ef4\u5b9e\u6218-\u9f13\u52b1\u8d4b\u80fd\u6a21\u578b","description":"\u6458\u8981\u5728\u6b64\u5904","date":"2024-03-25T00:00:00.000Z","formattedDate":"2024\u5e743\u670825\u65e5","tags":[{"label":"\u64b0\u5199\u4e2d","permalink":"/orange-ang/blog/tags/\u64b0\u5199\u4e2d"},{"label":"\u7ed3\u6784\u5316\u601d\u7ef4\u5b9e\u6218","permalink":"/orange-ang/blog/tags/\u7ed3\u6784\u5316\u601d\u7ef4\u5b9e\u6218"}],"readingTime":0.215,"hasTruncateMarker":true,"authors":[{"name":"\u6a59\u5b50\u6602","title":"Site Maintainer","url":"https://github.com/czasg","imageURL":"https://github.com/czasg.png","key":"czasg"}],"frontMatter":{"title":"\u7ed3\u6784\u5316\u601d\u7ef4\u5b9e\u6218-\u9f13\u52b1\u8d4b\u80fd\u6a21\u578b","authors":["czasg"],"tags":["\u64b0\u5199\u4e2d","\u7ed3\u6784\u5316\u601d\u7ef4\u5b9e\u6218"],"slug":"structure-mind-encourage-model"},"unlisted":false,"prevItem":{"title":"\u7ed3\u6784\u5316\u601d\u7ef4\u5b9e\u6218-\u6df1\u5ea6\u601d\u8003\u6a21\u578b","permalink":"/orange-ang/blog/structure-mind-deep-thinking"},"nextItem":{"title":"docusaurus \u642d\u5efa github \u7ad9\u70b9\u6559\u7a0b","permalink":"/orange-ang/blog/tutorial-docusaurus-deploy-github-pages"}},"content":"import AutoImage from \'@site/src/components/FullScreenImage\';\\n\\n\x3c!--package--\x3e\\n\\n\u6458\u8981\u5728\u6b64\u5904\\n\\n\x3c!--truncate--\x3e\\n\\n\u6b63\u6587\u5728\u6b64\u5904\\n\\n<br/>\\n\\n:::info \ud83d\udc47\ud83d\udc47\ud83d\udc47\\n**\u672c\u6587\u4f5c\u8005:** \u6a59\u5b50\u6602 <br/>\\n**\u7248\u6743\u58f0\u660e:** \u8f6c\u8f7d\u8bf7\u6ce8\u660e\u51fa\u5904\u54e6~\ud83d\udc6e\u200d\ud83d\udc6e\u200d\ud83d\udc6e\u200d\\n:::"},{"id":"tutorial-docusaurus-deploy-github-pages","metadata":{"permalink":"/orange-ang/blog/tutorial-docusaurus-deploy-github-pages","editUrl":"https://github.com/czasg/orange-ang/edit/main/blog/2024/03-22-docusaurus\u642d\u5efagithub\u7ad9\u70b9\u6559\u7a0b/index.mdx","source":"@site/blog/2024/03-22-docusaurus\u642d\u5efagithub\u7ad9\u70b9\u6559\u7a0b/index.mdx","title":"docusaurus \u642d\u5efa github \u7ad9\u70b9\u6559\u7a0b","description":"\u672c\u6587\u8bb0\u5f55\u5982\u4f55\u57fa\u4e8e docusaurus \u4ece0\u52301\u642d\u5efa github \u514d\u8d39\u4e2a\u4eba\u7ad9\u70b9\uff0c\u5e76\u901a\u8fc7 github-actions \u5b9e\u73b0\u81ea\u52a8\u90e8\u7f72\u3002","date":"2024-03-22T00:00:00.000Z","formattedDate":"2024\u5e743\u670822\u65e5","tags":[{"label":"\u64b0\u5199\u4e2d","permalink":"/orange-ang/blog/tags/\u64b0\u5199\u4e2d"},{"label":"\u6559\u7a0b","permalink":"/orange-ang/blog/tags/\u6559\u7a0b"}],"readingTime":1.48,"hasTruncateMarker":true,"authors":[{"name":"\u6a59\u5b50\u6602","title":"Site Maintainer","url":"https://github.com/czasg","imageURL":"https://github.com/czasg.png","key":"czasg"}],"frontMatter":{"title":"docusaurus \u642d\u5efa github \u7ad9\u70b9\u6559\u7a0b","authors":["czasg"],"tags":["\u64b0\u5199\u4e2d","\u6559\u7a0b"],"slug":"tutorial-docusaurus-deploy-github-pages"},"unlisted":false,"prevItem":{"title":"\u7ed3\u6784\u5316\u601d\u7ef4\u5b9e\u6218-\u9f13\u52b1\u8d4b\u80fd\u6a21\u578b","permalink":"/orange-ang/blog/structure-mind-encourage-model"}},"content":"import AutoImage from \'@site/src/components/FullScreenImage\';\\n\\n\x3c!--package--\x3e\\n\\n\u672c\u6587\u8bb0\u5f55\u5982\u4f55\u57fa\u4e8e docusaurus \u4ece0\u52301\u642d\u5efa github \u514d\u8d39\u4e2a\u4eba\u7ad9\u70b9\uff0c\u5e76\u901a\u8fc7 github-actions \u5b9e\u73b0\u81ea\u52a8\u90e8\u7f72\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \u521d\u59cb\u5316\u4ed3\u5e93\\n\u8fdb\u5165[github\u4ed3\u5e93\u521b\u5efa\u9875\u9762](https://github.com/new)\uff0c\u6211\u4eec\u521b\u5efa\u4e00\u4e2a\u5168\u65b0\u7684\u7a7a\u767d\u4ed3\u5e93\uff0c\u9879\u76ee\u540d\u547d\u540d\u4e3a `myblog`\u3002\\n\\n\u63a5\u7740\uff0c\u6211\u4eec\u65b0\u5efa gh-pages \u5206\u652f\uff0c\u5e76\u4fee\u6539 pages \u914d\u7f6e\uff0c\u5c06\u90e8\u7f72\u4fe1\u606f\u6307\u5411\u6211\u4eec\u65b0\u5efa\u7684 gh-pages \u5206\u652f\u3002\\n\\n## \u521b\u5efa codespaces\\ncodespaces \u662f\u6d4f\u89c8\u5668\u7248\u7684 vscode\uff0c\u65b9\u4fbf\u6211\u4eec\u5728\u7ebf\u8fdb\u884c\u670d\u52a1\u642d\u5efa\u3002\\n\\n\\n## \u521d\u59cb\u5316 docusaurus \u9879\u76ee\\n\u5728\u8fd9\u91cc\uff0c\u6211\u4eec\u76f4\u63a5\u4f7f\u7528 codespaces \u8fdb\u884c\u9879\u76ee\u521d\u59cb\u5316\u3002codespaces \u662f\u6d4f\u89c8\u5668\u7248\u7684 vscode\uff0c\u65b9\u4fbf\u6211\u4eec\u5728\u7ebf\u8fdb\u884c\u670d\u52a1\u642d\u5efa\u3002\\n\\n\u6267\u884c\u547d\u4ee4\u884c\uff1a\\n- `npx create-docusaurus@latest myblog classic`\uff1a\u521d\u59cb\u5316\u4e00\u4e2a myblog \u7684 docusaurus \u9879\u76ee\\n- `mv ./myblog/* ./myblog/.gitignore .`\uff1a\u5c06 myblog \u76ee\u5f55\u4e0b\u7684\u6240\u6709\u6587\u4ef6\u79fb\u52a8\u5230\u5f53\u524d\u76ee\u5f55\\n- `rm -rf myblog`\\n\\n\u4fee\u6539 `docusaurus.config.js` \u6587\u4ef6\\n\\n\\n## \u914d\u7f6e\u90e8\u7f72\u516c\u94a5\u4e0e\u5bc6\u94a5\\n\\n\\n## \u9002\u914d workflow \u6587\u4ef6\\n\\n\\n## \u63d0\u4ea4\u4ee3\u7801\\n\\n\\n\\n\\n## \u914d\u7f6e gh-pages\\n## \u521d\u59cb\u5316 action \u73af\u5883\\n## \u65b0\u5efa docusaurus \u9879\u76ee\\n## \u521d\u59cb\u5316\\n## \u642d\u5efa Github Actions\\n## \u66f4\u65b0\u4ed3\u5e93\uff0c\u5c1d\u8bd5\u81ea\u52a8\u90e8\u7f72\\n\\n\\n<br/>\\n\\n:::info \ud83d\udc47\ud83d\udc47\ud83d\udc47\\n**\u672c\u6587\u4f5c\u8005:** \u6a59\u5b50\u6602 <br/>\\n**\u7248\u6743\u58f0\u660e:** \u8f6c\u8f7d\u8bf7\u6ce8\u660e\u51fa\u5904\u54e6~\ud83d\udc6e\u200d\ud83d\udc6e\u200d\ud83d\udc6e\u200d\\n:::"}]}')}}]);